{"version":3,"sources":["node_modules/browser-pack/_prelude.js","sources/js/main.js","sources/js/modules/popup.js"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Popup from './modules/popup';\r\nconst popups = {};\r\n\r\n$(function () {\r\n\r\n    $('.js-slider').slick({\r\n        infinite: true,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        prevArrow: '<div class=\"slick-arrow slick-prev\"></div>',\r\n        nextArrow: '<div class=\"slick-arrow slick-next\"></div>'\r\n    });\r\n\r\n    // $(window).scroll(function () {\r\n    //     var $menu = $('.header');\r\n    //\r\n    //     if ($(this).scrollTop() > 200 && $menu.hasClass(\"header__top\")) {\r\n    //         $menu.fadeOut('fast', function () {\r\n    //             $(this).removeClass(' header__top ')\r\n    //                 .addClass(\"fixed\")\r\n    //                 .fadeIn('fast');\r\n    //         });\r\n    //     } else if ($(this).scrollTop() <= 1 && $menu.hasClass(\"fixed\")) {\r\n    //         $menu.fadeOut('fast', function () {\r\n    //             $(this).removeClass(\"fixed\")\r\n    //                 .addClass(\"header__top\")\r\n    //                 .fadeIn('fast');\r\n    //         });\r\n    //     }\r\n    //\r\n    // });\r\n\r\n    var options = {\r\n        id: 61042406,\r\n        loop: true\r\n    };\r\n    //\r\n\r\n    let video = $(\"#video\");\r\n    let playBtn = $('.play');\r\n    if (video.length) {\r\n        var player = new Vimeo.Player(video, options);\r\n    }\r\n\r\n\r\n    playBtn.on('click', function (e) {\r\n        e.preventDefault();\r\n        let preview = $(this).parent('.preview'),\r\n            video = preview.siblings('.video__vimeohttps');\r\n\r\n        if (preview) {\r\n            preview.addClass('hide');\r\n            video.removeClass('hide').addClass('show');\r\n\r\n            player.play();\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n\r\n    //ToDO Переделать в полноценный модуль\r\n\r\n    let tab = {\r\n        $openBtn: $('.js-open-tab'),\r\n        $tabParent: $('.js-open-tab h3'),\r\n\r\n        open(target, index){\r\n\r\n            if (target == 'next') {\r\n\r\n                if (index >= this.lengthBlocks) {\r\n                    this.$tabParent.eq(0).addClass('open');\r\n                } else {\r\n                    this.$tabParent.eq(index).addClass('open');\r\n                }\r\n            } else {\r\n                target.closest('.js-open-tab').addClass('open');\r\n            }\r\n        },\r\n\r\n        close(){\r\n            this.$openBtn.removeClass('open');\r\n        },\r\n\r\n        controller(){\r\n            let that = this;\r\n            that.$openBtn.on('click', function (e) {\r\n                if (e.target.tagName == 'H3' || e.target.tagName == 'SPAN') {\r\n\r\n                    if($(this).hasClass('doctor__wrap')) {\r\n                        let doctorId = $(this).attr('data-doctor-id');\r\n\r\n                        $.ajax({\r\n                            url: 'doctor-info.json',\r\n                            // type: form.attr('method'),\r\n                            // url: form.attr('action'),\r\n                            // dataType: 'json',\r\n                            // data: data,\r\n\r\n                            success: function (data) {\r\n                                console.log(data);\r\n\r\n                                function parseArr (arr) {\r\n\r\n                                    if(Array.isArray(arr)) {\r\n                                        for(let i = 0; i < arr.length; i++) {\r\n                                            var specTr = (specTr ? specTr : '') + '' + arr[i];\r\n                                        }\r\n                                        return specTr;\r\n                                    } else {\r\n                                        return arr;\r\n                                    }\r\n                                }\r\n\r\n                                let certif = data.certificates;\r\n\r\n                                for(let i = 0; i < certif.length; i++) {\r\n                                    console.log(certif[i].text);\r\n                                    var certifHtml = certifHtml + '<li><span>' + certif[i].text + '</span><img src=\"' + certif[i].icon + '\" alt=\"\"><img class=\"img_big\" src=\"' + certif[i].image + '\" alt=\"\"></li>'\r\n                                }\r\n\r\n                                let doctorInfo = '<div class=\"doctor__content_title\">' +\r\n                                    '<span>Фамильный Доктор Сергеевич</span>' +\r\n                                    '</div>' +\r\n                                    '<div class=\"doctor__content_left\">' +\r\n                                    '<div class=\"doctor__content_foto\">' +\r\n                                    '<img src=\"/img/doctor-1.png\" alt=\"\"></div>' +\r\n                                    '</div>' +\r\n                                    '<div class=\"doctor__content_right\">' +\r\n                                    '<table><tbody>' +\r\n                                    '<tr><th>Отделение</th><td>' + data.department + '</td></tr>'+\r\n                                    '<tr><th>Специализация:</th><td>' + parseArr(data.specialization); + '</td></tr>'\r\n                                    '<tr><th>Учёная степень:</th><td>' + parseArr(data.department); + '</td></tr>' +\r\n                                    '<tr><th>Образование:</th><td>' + parseArr(data.education); + '</td></tr>' +\r\n                                    '<tr><th>Врачебный стаж:</th><td>' + parseArr(data.worktime); + '</td></tr>' +\r\n                                    '<tr><th>Языки консультаций:</th><td>' + parseArr(data.languages); + '</td></tr>' +\r\n                                    '<tr><th>Сертификаты:</th><td>' +\r\n                                    '<ul>' + certifHtml + '</ul></td></tr>' +\r\n                                    '<tr><th>Публикации:</th><td>' + parseArr(data.publications); + '</td></tr>' +\r\n                                    '<tr><th>Дополнительные сведения:</th><td>' + parseArr(data.other); + '</td></tr>' +\r\n                                    '</tbody></table></div>'\r\n\r\n                                let containerDoctorInfo = $('.doctor__content');\r\n                                containerDoctorInfo.html(doctorInfo);\r\n                            },\r\n                            error: function (error) {\r\n                                console.log(error);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n\r\n                    let checkContent = $(this).children('.doctor__content'),\r\n                        checkParagraf = $(this).children('p');\r\n\r\n                    if (checkContent.length || checkParagraf.length) {\r\n                        if ($(this).hasClass('open')) {\r\n                            console.log('sad');\r\n                            $(this).removeClass('open');\r\n                        } else {\r\n                            let currentIndex = that.$tabParent.index(parent);\r\n                            if (that.$tabParent.hasClass('open')) {\r\n                                that.close();\r\n                                that.open('next', ++currentIndex);\r\n                            } else {\r\n                                that.close();\r\n                                that.open($(this));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            });\r\n        },\r\n\r\n        init(){\r\n            this.controller();\r\n        }\r\n    };\r\n    tab.init();\r\n\r\n\r\n\r\n\r\n    $('.popup__back').on('click', () => {\r\n\r\n        let $body = $('body');\r\n        if ($body.find('.popup').filter('.show').length == '1') {\r\n            $body.find('.popup').filter('.show').removeClass('show');\r\n            $body.find('.popup__back').filter('.show').removeClass('show');\r\n            $(this).removeClass('show');\r\n        } else {\r\n            $body.find('.popup').filter('.show').last().removeClass('show');\r\n        }\r\n    });\r\n\r\n    let loginPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_login',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        closeButtonsSelector: '.popup__close-button, .js-bad-answer-close'\r\n        // customOpen: function ($elem) {\r\n        // \tthis.$popup.find('.popup__text_good-answer').text($elem);\r\n        // \tthis.openPopup();\r\n        // }\r\n    });\r\n    popups.loginPopup = loginPopup;\r\n\r\n    $('.js-login').on('click', function (e) {\r\n        e.preventDefault();\r\n        popups.loginPopup.openPopup();\r\n    });\r\n\r\n\r\n    $('select').on('change', function (e) {\r\n\r\n        var form = $(this.form);\r\n        var formId = form.attr('id');\r\n        var formType = form.data('form-type');\r\n        var data = form.serialize();\r\n        var container = $('.container');\r\n        var countryWrap = container.find('.counrty__wrap');\r\n\r\n\r\n        if (formType == \"ajax\") {\r\n\r\n\r\n            $.ajax({\r\n                url: 'doctor.json',\r\n                // type: form.attr('method'),\r\n                // url: form.attr('action'),\r\n                // dataType: 'json',\r\n                // data: data,\r\n\r\n                success: function (data) {\r\n                    countryWrap.html('');\r\n\r\n                    data.forEach(function (el) {\r\n                        var clinicClass = '',\r\n                            clinicArr,\r\n                            doctorsHtml = '',\r\n                            priceContainerHtml = '',\r\n                            priceHtml = '';\r\n\r\n                        if (formId == 'filterDoctor') {\r\n                            clinicClass = 'doctor';\r\n                            clinicArr = el.clinics;\r\n\r\n                            for (let i = 0; i < clinicArr.length; i++) {\r\n                                var doctorsArr = clinicArr[i].doctors;\r\n                                for (let k = 0; k < doctorsArr.length; k++) {\r\n\r\n                                    doctorsHtml += '<div class=\"doctor__wrap js-open-tab\" data-doccor-id=\"' + doctorsArr[k].id + '\">' +\r\n                                        '<h3>' + doctorsArr[k].name + '</h3>' +\r\n                                        '</div>';\r\n                                }\r\n                            };\r\n                        }\r\n\r\n                        if (formId == 'filterClinic') {\r\n                            clinicClass = 'clinics';\r\n                            clinicArr = el.clinics;\r\n                        }\r\n\r\n\r\n                        if (formId == 'filterPrice') {\r\n                            clinicClass = 'price';\r\n                            clinicArr = el.clinics;\r\n\r\n                            for (let i = 0; i < clinicArr.length; i++) {\r\n                                priceHtml += '<div class=\"price__item\">' +\r\n                                    '<span class=\"price__prop\">Первичная консультация</span>' +\r\n                                    '<div class=\"price__dots\"></div>' +\r\n                                    '<span class=\"price__value\">' + clinicArr[i].cost + ' ' + el.currency + '</span> ' +\r\n                                    '</div>';\r\n\r\n                                priceContainerHtml = '<div class=\"price__list\"> ' + priceHtml + '</div>';\r\n                            };\r\n\r\n                        }\r\n\r\n\r\n                        for (let i = 0; i < clinicArr.length; i++) {\r\n                            var clinicItem = clinicArr[i];\r\n\r\n                            if (clinicClass == 'doctor') {\r\n                                clinicItem = clinicArr[i].clinic;\r\n                            }\r\n\r\n                            var clinicLogo = clinicItem.logo ? '<img src=' + clinicItem.logo + ' alt=\"\">' : '';\r\n                            var clinicsHtml ='<div class=\"' + clinicClass + '__clinic counrty__clinic\">' +\r\n                                '<div class=\"' + clinicClass + '__clinic_name counrty__clinic_name\">' +\r\n                                '<span>' + clinicItem.name + '</span>' +\r\n                                '<em>' + clinicItem.about + '</em>' + clinicLogo +\r\n                                '</div>' + (priceContainerHtml ? priceContainerHtml : '') + '</div>';\r\n\r\n                        }\r\n\r\n                        countryWrap.append('<div class=\"' + clinicClass + '__country counrty\">' +\r\n                            '<h3>' + el.country + '</h3>' + clinicsHtml + '' + (doctorsHtml ? doctorsHtml : '') + '</div>'\r\n                        );\r\n\r\n                    });\r\n                },\r\n                error: function (error) {\r\n                    console.log(error);\r\n                }\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    $('.js-show-attention').on('click', function (e) {\r\n        e.preventDefault();\r\n        console.log();\r\n\r\n\r\n        let attentionBlock = $('.contacts__connection');\r\n        attentionBlock.toggleClass('hide');\r\n    });\r\n\r\n\r\n\r\n});","class Popup {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.$body = $('body');\r\n\t\tthis.$back = $(data.backSelector);\r\n\t\tthis.$popups = $(data.popupsSelector);\r\n\t\tthis.popupSelector = data.popupSelector;\r\n\t\tthis.$popup = this.$popups.filter(data.popupSelector);\r\n\t\tthis.popupActiveClass = data.popupActiveClass;\r\n\t\tthis.backActiveClass = data.backActiveClass;\r\n\t\tthis.closeButtonsSelector = data.closeButtonsSelector;\r\n\t\tthis.openButtonsSelector = data.openButtonsSelector;\r\n\t\tthis.isCloseAllWhenOpen = data.isCloseAllWhenOpen || true;\r\n\t\tthis.onResizeCallback = (typeof data.onResizeCallback == \"function\") ? data.onResizeCallback : '' ;\r\n\t\tthis.onCloseCallback = (typeof data.onCloseCallback == \"function\") ? data.onCloseCallback : '' ;\r\n\t\tthis.customOpen = (typeof data.customOpen == \"function\") ? data.customOpen : '' ;\r\n\r\n\t\tthis.addEventListners();\r\n\t}\r\n\r\n\taddEventListners ()  {\r\n\t\t$(this.openButtonsSelector).on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.openPopup();\r\n\t\t});\r\n\t\tthis.$popup.on('click', this.closeButtonsSelector, () => {\r\n\t\t\tthis.closePopup();\r\n\t\t});\r\n\t\t$(window).on('resize', () => {\r\n\t\t\tthis.$popup.css('left', '0');\r\n\r\n\t\t\tif (this.$popup.hasClass(this.popupActiveClass)) {\r\n\r\n\t\t\t\tthis.getLeft();\r\n\t\t\t\tthis.getTop ();\r\n\r\n\t\t\t\tif (this.onResizeCallback) {\r\n\t\t\t\t\tthis.onResizeCallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\topenPopup () {\r\n\t\tthis.$popup.css('top', '-20px');\r\n\t\tthis.showBack();\r\n\t\tthis.getLeft();\r\n\t\tthis.getTop ();\r\n\t\tthis.$popup.addClass(this.popupActiveClass);\r\n\t}\r\n\r\n\r\n\tclosePopup() {\r\n\r\n\t\t// this.closeAll();\r\n\r\n\t\tthis.$popup.removeClass(this.popupActiveClass);\r\n\t\tif (!this.$popups.filter('.show').length) {\r\n\t\t\tthis.hideBack();\r\n\t\t}\r\n\r\n\t\tif (this.onCloseCallback) {\r\n\t\t\tthis.onCloseCallback();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcloseAll() {\r\n\t\tthis.$popups.removeClass(this.popupActiveClass);\r\n\t}\r\n\r\n\tshowBack () {\r\n\t\tthis.$back.addClass(this.backActiveClass);\r\n\t}\r\n\r\n\thideBack () {\r\n\t\tthis.$back.removeClass(this.backActiveClass);\r\n\t}\r\n\r\n\tgetLeft () {\r\n\t\tlet left = parseInt(this.$body.outerWidth()) / 2 - this.$popup.outerWidth() / 2;\r\n\t\tthis.$popup.css('left', `${left}px`);\r\n\t}\r\n\tgetTop () {\r\n\t\tlet top = this.$body.scrollTop() + 200;\r\n\t\t// let top = parseInt(this.$body.outerHeight()) / 2 - this.$popup.outerHeight() / 2;\r\n\t\tthis.$popup.css('top', `${top}px`);\r\n\t}\r\n}\r\n\r\nexport default Popup;\r\n\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2VzXFxqc1xcbWFpbi5qcyIsInNvdXJjZXNcXGpzXFxtb2R1bGVzXFxwb3B1cC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQUNBLElBQU0sU0FBUyxFQUFmOztBQUVBLEVBQUUsWUFBWTtBQUFBOztBQUVWLE1BQUUsWUFBRixFQUFnQixLQUFoQixDQUFzQjtBQUNsQixrQkFBVSxJQURRO0FBRWxCLHNCQUFjLENBRkk7QUFHbEIsd0JBQWdCLENBSEU7QUFJbEIsbUJBQVcsNENBSk87QUFLbEIsbUJBQVc7QUFMTyxLQUF0Qjs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBSSxVQUFVO0FBQ1YsWUFBSSxRQURNO0FBRVYsY0FBTTtBQUZJLEtBQWQ7QUFJQTs7QUFFQSxRQUFJLFFBQVEsRUFBRSxRQUFGLENBQVo7QUFDQSxRQUFJLFVBQVUsRUFBRSxPQUFGLENBQWQ7QUFDQSxRQUFJLE1BQU0sTUFBVixFQUFrQjtBQUNkLFlBQUksU0FBUyxJQUFJLE1BQU0sTUFBVixDQUFpQixLQUFqQixFQUF3QixPQUF4QixDQUFiO0FBQ0g7O0FBR0QsWUFBUSxFQUFSLENBQVcsT0FBWCxFQUFvQixVQUFVLENBQVYsRUFBYTtBQUM3QixVQUFFLGNBQUY7QUFDQSxZQUFJLFVBQVUsRUFBRSxJQUFGLEVBQVEsTUFBUixDQUFlLFVBQWYsQ0FBZDtBQUFBLFlBQ0ksUUFBUSxRQUFRLFFBQVIsQ0FBaUIsb0JBQWpCLENBRFo7O0FBR0EsWUFBSSxPQUFKLEVBQWE7QUFDVCxvQkFBUSxRQUFSLENBQWlCLE1BQWpCO0FBQ0Esa0JBQU0sV0FBTixDQUFrQixNQUFsQixFQUEwQixRQUExQixDQUFtQyxNQUFuQzs7QUFFQSxtQkFBTyxJQUFQ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SyxnQkFBN0I7QUFDQSxPQUFJLENBQUMsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixPQUFwQixFQUE2QixNQUFsQyxFQUEwQztBQUN6QyxTQUFLLFFBQUw7QUFDQTs7QUFFRCxPQUFJLEtBQUssZUFBVCxFQUEwQjtBQUN6QixTQUFLLGVBQUw7QUFDQTtBQUVEOzs7NkJBRVU7QUFDVixRQUFLLE9BQUwsQ0FBYSxXQUFiLENBQXlCLEtBQUssZ0JBQTlCO0FBQ0E7Ozs2QkFFVztBQUNYLFFBQUssS0FBTCxDQUFXLFFBQVgsQ0FBb0IsS0FBSyxlQUF6QjtBQUNBOzs7NkJBRVc7QUFDWCxRQUFLLEtBQUwsQ0FBVyxXQUFYLENBQXVCLEtBQUssZUFBNUI7QUFDQTs7OzRCQUVVO0FBQ1YsT0FBSSxPQUFPLFNBQVMsS0FBSyxLQUFMLENBQVcsVUFBWCxFQUFULElBQW9DLENBQXBDLEdBQXdDLEtBQUssTUFBTCxDQUFZLFVBQVosS0FBMkIsQ0FBOUU7QUFDQSxRQUFLLE1BQUwsQ0FBWSxHQUFaLENBQWdCLE1BQWhCLEVBQTJCLElBQTNCO0FBQ0E7OzsyQkFDUztBQUNULE9BQUksTUFBTSxLQUFLLEtBQUwsQ0FBVyxTQUFYLEtBQXlCLEdBQW5DO0FBQ0E7QUFDQSxRQUFLLE1BQUwsQ0FBWSxHQUFaLENBQWdCLEtBQWhCLEVBQTBCLEdBQTFCO0FBQ0E7Ozs7OztrQkFHYSxLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBQb3B1cCBmcm9tICcuL21vZHVsZXMvcG9wdXAnO1xyXG5jb25zdCBwb3B1cHMgPSB7fTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICQoJy5qcy1zbGlkZXInKS5zbGljayh7XHJcbiAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PC9kaXY+JyxcclxuICAgICAgICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stbmV4dFwiPjwvZGl2PidcclxuICAgIH0pO1xyXG5cclxuICAgIC8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgIHZhciAkbWVudSA9ICQoJy5oZWFkZXInKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAyMDAgJiYgJG1lbnUuaGFzQ2xhc3MoXCJoZWFkZXJfX3RvcFwiKSkge1xyXG4gICAgLy8gICAgICAgICAkbWVudS5mYWRlT3V0KCdmYXN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnIGhlYWRlcl9fdG9wICcpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZml4ZWRcIilcclxuICAgIC8vICAgICAgICAgICAgICAgICAuZmFkZUluKCdmYXN0Jyk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA8PSAxICYmICRtZW51Lmhhc0NsYXNzKFwiZml4ZWRcIikpIHtcclxuICAgIC8vICAgICAgICAgJG1lbnUuZmFkZU91dCgnZmFzdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJmaXhlZFwiKVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImhlYWRlcl9fdG9wXCIpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLmZhZGVJbignZmFzdCcpO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvL1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgaWQ6IDYxMDQyNDA2LFxyXG4gICAgICAgIGxvb3A6IHRydWVcclxuICAgIH07XHJcbiAgICAvL1xyXG5cclxuICAgIGxldCB2aWRlbyA9ICQoXCIjdmlkZW9cIik7XHJcbiAgICBsZXQgcGxheUJ0biA9ICQoJy5wbGF5Jyk7XHJcbiAgICBpZiAodmlkZW8ubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIHBsYXllciA9IG5ldyBWaW1lby5QbGF5ZXIodmlkZW8sIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwbGF5QnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBwcmV2aWV3ID0gJCh0aGlzKS5wYXJlbnQoJy5wcmV2aWV3JyksXHJcbiAgICAgICAgICAgIHZpZGVvID0gcHJldmlldy5zaWJsaW5ncygnLnZpZGVvX192aW1lb2h0dHBzJyk7XHJcblxyXG4gICAgICAgIGlmIChwcmV2aWV3KSB7XHJcbiAgICAgICAgICAgIHByZXZpZXcuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5hZGRDbGFzcygnc2hvdycpO1xyXG5cclxuICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvL1RvRE8g0J/QtdGA0LXQtNC10LvQsNGC0Ywg0LIg0L/QvtC70L3QvtGG0LXQvdC90YvQuSDQvNC+0LTRg9C70YxcclxuXHJcbiAgICBsZXQgdGFiID0ge1xyXG4gICAgICAgICRvcGVuQnRuOiAkKCcuanMtb3Blbi10YWInKSxcclxuICAgICAgICAkdGFiUGFyZW50OiAkKCcuanMtb3Blbi10YWIgaDMnKSxcclxuXHJcbiAgICAgICAgb3Blbih0YXJnZXQsIGluZGV4KXtcclxuXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT0gJ25leHQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IHRoaXMubGVuZ3RoQmxvY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFiUGFyZW50LmVxKDApLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRhYlBhcmVudC5lcShpbmRleCkuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5jbG9zZXN0KCcuanMtb3Blbi10YWInKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xvc2UoKXtcclxuICAgICAgICAgICAgdGhpcy4kb3BlbkJ0bi5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNvbnRyb2xsZXIoKXtcclxuICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGF0LiRvcGVuQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PSAnSDMnIHx8IGUudGFyZ2V0LnRhZ05hbWUgPT0gJ1NQQU4nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2RvY3Rvcl9fd3JhcCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N0b3JJZCA9ICQodGhpcykuYXR0cignZGF0YS1kb2N0b3ItaWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdkb2N0b3ItaW5mby5qc29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR5cGU6IGZvcm0uYXR0cignbWV0aG9kJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0YTogZGF0YSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBwYXJzZUFyciAoYXJyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGFycikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BlY1RyID0gKHNwZWNUciA/IHNwZWNUciA6ICcnKSArICcnICsgYXJyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwZWNUcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZXJ0aWYgPSBkYXRhLmNlcnRpZmljYXRlcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNlcnRpZi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjZXJ0aWZbaV0udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZXJ0aWZIdG1sID0gY2VydGlmSHRtbCArICc8bGk+PHNwYW4+JyArIGNlcnRpZltpXS50ZXh0ICsgJzwvc3Bhbj48aW1nIHNyYz1cIicgKyBjZXJ0aWZbaV0uaWNvbiArICdcIiBhbHQ9XCJcIj48aW1nIGNsYXNzPVwiaW1nX2JpZ1wiIHNyYz1cIicgKyBjZXJ0aWZbaV0uaW1hZ2UgKyAnXCIgYWx0PVwiXCI+PC9saT4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdG9ySW5mbyA9ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19jb250ZW50X3RpdGxlXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3Bhbj7QpNCw0LzQuNC70YzQvdGL0Lkg0JTQvtC60YLQvtGAINCh0LXRgNCz0LXQtdCy0LjRhzwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudF9sZWZ0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19jb250ZW50X2ZvdG9cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiL2ltZy9kb2N0b3ItMS5wbmdcIiBhbHQ9XCJcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudF9yaWdodFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRhYmxlPjx0Ym9keT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J7RgtC00LXQu9C10L3QuNC1PC90aD48dGQ+JyArIGRhdGEuZGVwYXJ0bWVudCArICc8L3RkPjwvdHI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0KHQv9C10YbQuNCw0LvQuNC30LDRhtC40Y86PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEuc3BlY2lhbGl6YXRpb24pOyArICc8L3RkPjwvdHI+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7Qo9GH0ZHQvdCw0Y8g0YHRgtC10L/QtdC90Yw6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEuZGVwYXJ0bWVudCk7ICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J7QsdGA0LDQt9C+0LLQsNC90LjQtTo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5lZHVjYXRpb24pOyArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCS0YDQsNGH0LXQsdC90YvQuSDRgdGC0LDQtjo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS53b3JrdGltZSk7ICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0K/Qt9GL0LrQuCDQutC+0L3RgdGD0LvRjNGC0LDRhtC40Lk6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEubGFuZ3VhZ2VzKTsgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QodC10YDRgtC40YTQuNC60LDRgtGLOjwvdGg+PHRkPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHVsPicgKyBjZXJ0aWZIdG1sICsgJzwvdWw+PC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7Qn9GD0LHQu9C40LrQsNGG0LjQuDo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5wdWJsaWNhdGlvbnMpOyArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0YHQstC10LTQtdC90LjRjzo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5vdGhlcik7ICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvdGJvZHk+PC90YWJsZT48L2Rpdj4nXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250YWluZXJEb2N0b3JJbmZvID0gJCgnLmRvY3Rvcl9fY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckRvY3RvckluZm8uaHRtbChkb2N0b3JJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tDb250ZW50ID0gJCh0aGlzKS5jaGlsZHJlbignLmRvY3Rvcl9fY29udGVudCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BhcmFncmFmID0gJCh0aGlzKS5jaGlsZHJlbigncCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tDb250ZW50Lmxlbmd0aCB8fCBjaGVja1BhcmFncmFmLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnb3BlbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gdGhhdC4kdGFiUGFyZW50LmluZGV4KHBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC4kdGFiUGFyZW50Lmhhc0NsYXNzKCdvcGVuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5vcGVuKCduZXh0JywgKytjdXJyZW50SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5vcGVuKCQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGluaXQoKXtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRhYi5pbml0KCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgJCgnLnBvcHVwX19iYWNrJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgJGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICAgICAgaWYgKCRib2R5LmZpbmQoJy5wb3B1cCcpLmZpbHRlcignLnNob3cnKS5sZW5ndGggPT0gJzEnKSB7XHJcbiAgICAgICAgICAgICRib2R5LmZpbmQoJy5wb3B1cCcpLmZpbHRlcignLnNob3cnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgICAgICAkYm9keS5maW5kKCcucG9wdXBfX2JhY2snKS5maWx0ZXIoJy5zaG93JykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRib2R5LmZpbmQoJy5wb3B1cCcpLmZpbHRlcignLnNob3cnKS5sYXN0KCkucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgbG9naW5Qb3B1cCA9IG5ldyBQb3B1cCh7XHJcbiAgICAgICAgYmFja1NlbGVjdG9yOiAnLnBvcHVwX19iYWNrJyxcclxuICAgICAgICBwb3B1cHNTZWxlY3RvcjogJy5wb3B1cCcsXHJcbiAgICAgICAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF9sb2dpbicsXHJcbiAgICAgICAgcG9wdXBBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGJhY2tBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGNsb3NlQnV0dG9uc1NlbGVjdG9yOiAnLnBvcHVwX19jbG9zZS1idXR0b24sIC5qcy1iYWQtYW5zd2VyLWNsb3NlJ1xyXG4gICAgICAgIC8vIGN1c3RvbU9wZW46IGZ1bmN0aW9uICgkZWxlbSkge1xyXG4gICAgICAgIC8vIFx0dGhpcy4kcG9wdXAuZmluZCgnLnBvcHVwX190ZXh0X2dvb2QtYW5zd2VyJykudGV4dCgkZWxlbSk7XHJcbiAgICAgICAgLy8gXHR0aGlzLm9wZW5Qb3B1cCgpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH0pO1xyXG4gICAgcG9wdXBzLmxvZ2luUG9wdXAgPSBsb2dpblBvcHVwO1xyXG5cclxuICAgICQoJy5qcy1sb2dpbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwcy5sb2dpblBvcHVwLm9wZW5Qb3B1cCgpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgICQoJ3NlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICB2YXIgZm9ybSA9ICQodGhpcy5mb3JtKTtcclxuICAgICAgICB2YXIgZm9ybUlkID0gZm9ybS5hdHRyKCdpZCcpO1xyXG4gICAgICAgIHZhciBmb3JtVHlwZSA9IGZvcm0uZGF0YSgnZm9ybS10eXBlJyk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSAkKCcuY29udGFpbmVyJyk7XHJcbiAgICAgICAgdmFyIGNvdW50cnlXcmFwID0gY29udGFpbmVyLmZpbmQoJy5jb3VucnR5X193cmFwJyk7XHJcblxyXG5cclxuICAgICAgICBpZiAoZm9ybVR5cGUgPT0gXCJhamF4XCIpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnZG9jdG9yLmpzb24nLFxyXG4gICAgICAgICAgICAgICAgLy8gdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSxcclxuICAgICAgICAgICAgICAgIC8vIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgIC8vIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhOiBkYXRhLFxyXG5cclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeVdyYXAuaHRtbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY0NsYXNzID0gJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N0b3JzSHRtbCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VDb250YWluZXJIdG1sID0gJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUh0bWwgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSWQgPT0gJ2ZpbHRlckRvY3RvcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0NsYXNzID0gJ2RvY3Rvcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIgPSBlbC5jbGluaWNzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpbmljQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3RvcnNBcnIgPSBjbGluaWNBcnJbaV0uZG9jdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGRvY3RvcnNBcnIubGVuZ3RoOyBrKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3RvcnNIdG1sICs9ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX193cmFwIGpzLW9wZW4tdGFiXCIgZGF0YS1kb2Njb3ItaWQ9XCInICsgZG9jdG9yc0FycltrXS5pZCArICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDM+JyArIGRvY3RvcnNBcnJba10ubmFtZSArICc8L2gzPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1JZCA9PSAnZmlsdGVyQ2xpbmljJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbmljQ2xhc3MgPSAnY2xpbmljcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIgPSBlbC5jbGluaWNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1JZCA9PSAnZmlsdGVyUHJpY2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNDbGFzcyA9ICdwcmljZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIgPSBlbC5jbGluaWNzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpbmljQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VIdG1sICs9ICc8ZGl2IGNsYXNzPVwicHJpY2VfX2l0ZW1cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicHJpY2VfX3Byb3BcIj7Qn9C10YDQstC40YfQvdCw0Y8g0LrQvtC90YHRg9C70YzRgtCw0YbQuNGPPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInByaWNlX19kb3RzXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInByaWNlX192YWx1ZVwiPicgKyBjbGluaWNBcnJbaV0uY29zdCArICcgJyArIGVsLmN1cnJlbmN5ICsgJzwvc3Bhbj4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUNvbnRhaW5lckh0bWwgPSAnPGRpdiBjbGFzcz1cInByaWNlX19saXN0XCI+ICcgKyBwcmljZUh0bWwgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGluaWNBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNJdGVtID0gY2xpbmljQXJyW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGluaWNDbGFzcyA9PSAnZG9jdG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0l0ZW0gPSBjbGluaWNBcnJbaV0uY2xpbmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNMb2dvID0gY2xpbmljSXRlbS5sb2dvID8gJzxpbWcgc3JjPScgKyBjbGluaWNJdGVtLmxvZ28gKyAnIGFsdD1cIlwiPicgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNzSHRtbCA9JzxkaXYgY2xhc3M9XCInICsgY2xpbmljQ2xhc3MgKyAnX19jbGluaWMgY291bnJ0eV9fY2xpbmljXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCInICsgY2xpbmljQ2xhc3MgKyAnX19jbGluaWNfbmFtZSBjb3VucnR5X19jbGluaWNfbmFtZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3Bhbj4nICsgY2xpbmljSXRlbS5uYW1lICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGVtPicgKyBjbGluaWNJdGVtLmFib3V0ICsgJzwvZW0+JyArIGNsaW5pY0xvZ28gK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICsgKHByaWNlQ29udGFpbmVySHRtbCA/IHByaWNlQ29udGFpbmVySHRtbCA6ICcnKSArICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeVdyYXAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiJyArIGNsaW5pY0NsYXNzICsgJ19fY291bnRyeSBjb3VucnR5XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGgzPicgKyBlbC5jb3VudHJ5ICsgJzwvaDM+JyArIGNsaW5pY3NIdG1sICsgJycgKyAoZG9jdG9yc0h0bWwgPyBkb2N0b3JzSHRtbCA6ICcnKSArICc8L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanMtc2hvdy1hdHRlbnRpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IGF0dGVudGlvbkJsb2NrID0gJCgnLmNvbnRhY3RzX19jb25uZWN0aW9uJyk7XHJcbiAgICAgICAgYXR0ZW50aW9uQmxvY2sudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59KTsiLCJjbGFzcyBQb3B1cCB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuXHRcdHRoaXMuJGJvZHkgPSAkKCdib2R5Jyk7XHJcblx0XHR0aGlzLiRiYWNrID0gJChkYXRhLmJhY2tTZWxlY3Rvcik7XHJcblx0XHR0aGlzLiRwb3B1cHMgPSAkKGRhdGEucG9wdXBzU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5wb3B1cFNlbGVjdG9yID0gZGF0YS5wb3B1cFNlbGVjdG9yO1xyXG5cdFx0dGhpcy4kcG9wdXAgPSB0aGlzLiRwb3B1cHMuZmlsdGVyKGRhdGEucG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLnBvcHVwQWN0aXZlQ2xhc3MgPSBkYXRhLnBvcHVwQWN0aXZlQ2xhc3M7XHJcblx0XHR0aGlzLmJhY2tBY3RpdmVDbGFzcyA9IGRhdGEuYmFja0FjdGl2ZUNsYXNzO1xyXG5cdFx0dGhpcy5jbG9zZUJ1dHRvbnNTZWxlY3RvciA9IGRhdGEuY2xvc2VCdXR0b25zU2VsZWN0b3I7XHJcblx0XHR0aGlzLm9wZW5CdXR0b25zU2VsZWN0b3IgPSBkYXRhLm9wZW5CdXR0b25zU2VsZWN0b3I7XHJcblx0XHR0aGlzLmlzQ2xvc2VBbGxXaGVuT3BlbiA9IGRhdGEuaXNDbG9zZUFsbFdoZW5PcGVuIHx8IHRydWU7XHJcblx0XHR0aGlzLm9uUmVzaXplQ2FsbGJhY2sgPSAodHlwZW9mIGRhdGEub25SZXNpemVDYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIpID8gZGF0YS5vblJlc2l6ZUNhbGxiYWNrIDogJycgO1xyXG5cdFx0dGhpcy5vbkNsb3NlQ2FsbGJhY2sgPSAodHlwZW9mIGRhdGEub25DbG9zZUNhbGxiYWNrID09IFwiZnVuY3Rpb25cIikgPyBkYXRhLm9uQ2xvc2VDYWxsYmFjayA6ICcnIDtcclxuXHRcdHRoaXMuY3VzdG9tT3BlbiA9ICh0eXBlb2YgZGF0YS5jdXN0b21PcGVuID09IFwiZnVuY3Rpb25cIikgPyBkYXRhLmN1c3RvbU9wZW4gOiAnJyA7XHJcblxyXG5cdFx0dGhpcy5hZGRFdmVudExpc3RuZXJzKCk7XHJcblx0fVxyXG5cclxuXHRhZGRFdmVudExpc3RuZXJzICgpICB7XHJcblx0XHQkKHRoaXMub3BlbkJ1dHRvbnNTZWxlY3Rvcikub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR0aGlzLm9wZW5Qb3B1cCgpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLiRwb3B1cC5vbignY2xpY2snLCB0aGlzLmNsb3NlQnV0dG9uc1NlbGVjdG9yLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xyXG5cdFx0fSk7XHJcblx0XHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcclxuXHRcdFx0dGhpcy4kcG9wdXAuY3NzKCdsZWZ0JywgJzAnKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLiRwb3B1cC5oYXNDbGFzcyh0aGlzLnBvcHVwQWN0aXZlQ2xhc3MpKSB7XHJcblxyXG5cdFx0XHRcdHRoaXMuZ2V0TGVmdCgpO1xyXG5cdFx0XHRcdHRoaXMuZ2V0VG9wICgpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5vblJlc2l6ZUNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHR0aGlzLm9uUmVzaXplQ2FsbGJhY2soKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b3BlblBvcHVwICgpIHtcclxuXHRcdHRoaXMuJHBvcHVwLmNzcygndG9wJywgJy0yMHB4Jyk7XHJcblx0XHR0aGlzLnNob3dCYWNrKCk7XHJcblx0XHR0aGlzLmdldExlZnQoKTtcclxuXHRcdHRoaXMuZ2V0VG9wICgpO1xyXG5cdFx0dGhpcy4kcG9wdXAuYWRkQ2xhc3ModGhpcy5wb3B1cEFjdGl2ZUNsYXNzKTtcclxuXHR9XHJcblxyXG5cclxuXHRjbG9zZVBvcHVwKCkge1xyXG5cclxuXHRcdC8vIHRoaXMuY2xvc2VBbGwoKTtcclxuXHJcblx0XHR0aGlzLiRwb3B1cC5yZW1vdmVDbGFzcyh0aGlzLnBvcHVwQWN0aXZlQ2xhc3MpO1xyXG5cdFx0aWYgKCF0aGlzLiRwb3B1cHMuZmlsdGVyKCcuc2hvdycpLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmhpZGVCYWNrKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub25DbG9zZUNhbGxiYWNrKSB7XHJcblx0XHRcdHRoaXMub25DbG9zZUNhbGxiYWNrKCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0Y2xvc2VBbGwoKSB7XHJcblx0XHR0aGlzLiRwb3B1cHMucmVtb3ZlQ2xhc3ModGhpcy5wb3B1cEFjdGl2ZUNsYXNzKTtcclxuXHR9XHJcblxyXG5cdHNob3dCYWNrICgpIHtcclxuXHRcdHRoaXMuJGJhY2suYWRkQ2xhc3ModGhpcy5iYWNrQWN0aXZlQ2xhc3MpO1xyXG5cdH1cclxuXHJcblx0aGlkZUJhY2sgKCkge1xyXG5cdFx0dGhpcy4kYmFjay5yZW1vdmVDbGFzcyh0aGlzLmJhY2tBY3RpdmVDbGFzcyk7XHJcblx0fVxyXG5cclxuXHRnZXRMZWZ0ICgpIHtcclxuXHRcdGxldCBsZWZ0ID0gcGFyc2VJbnQodGhpcy4kYm9keS5vdXRlcldpZHRoKCkpIC8gMiAtIHRoaXMuJHBvcHVwLm91dGVyV2lkdGgoKSAvIDI7XHJcblx0XHR0aGlzLiRwb3B1cC5jc3MoJ2xlZnQnLCBgJHtsZWZ0fXB4YCk7XHJcblx0fVxyXG5cdGdldFRvcCAoKSB7XHJcblx0XHRsZXQgdG9wID0gdGhpcy4kYm9keS5zY3JvbGxUb3AoKSArIDIwMDtcclxuXHRcdC8vIGxldCB0b3AgPSBwYXJzZUludCh0aGlzLiRib2R5Lm91dGVySGVpZ2h0KCkpIC8gMiAtIHRoaXMuJHBvcHVwLm91dGVySGVpZ2h0KCkgLyAyO1xyXG5cdFx0dGhpcy4kcG9wdXAuY3NzKCd0b3AnLCBgJHt0b3B9cHhgKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG5cclxuXHJcbiJdfQ=="}