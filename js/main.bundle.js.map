{"version":3,"sources":["node_modules/browser-pack/_prelude.js","sources/js/main.js","sources/js/modules/popup.js"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Popup from './modules/popup';\r\nconst popups = {};\r\n\r\n$(function () {\r\n    if ($('.js-slider').length) {\r\n        $('.js-slider').slick({\r\n            infinite: true,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            prevArrow: '<div class=\"slick-arrow slick-prev\"></div>',\r\n            nextArrow: '<div class=\"slick-arrow slick-next\"></div>'\r\n        });\r\n    }\r\n    if ($('.js-slider_vert').length) {\r\n\r\n        $('.js-slider_vert').slick({\r\n            infinite: true,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            arrows: false,\r\n            // vertical: true,\r\n            autoplay: true,\r\n            autoplaySpeed: 2000\r\n            // prevArrow: '<div class=\"slick-arrow slick-prev\"></div>',\r\n            // nextArrow: '<div class=\"slick-arrow slick-next\"></div>'\r\n        });\r\n    }\r\n\r\n\r\n    $(window).scroll(function () {\r\n        var $menu = $('.header');\r\n\r\n        if ($(this).scrollTop() > 0) {\r\n            $menu.removeClass('fixed_top');\r\n        } else if ($(this).scrollTop() <= 1) {\r\n            $menu.addClass(\"fixed_top\");\r\n\r\n        }\r\n\r\n    });\r\n\r\n    var options = {\r\n        id: 61042406,\r\n        loop: true\r\n    };\r\n    //\r\n\r\n    let video = $(\"#video\");\r\n    let playBtn = $('.play');\r\n    if (video.length) {\r\n        var player = new Vimeo.Player(video, options);\r\n    }\r\n\r\n\r\n    playBtn.on('click', function (e) {\r\n        e.preventDefault();\r\n        let preview = $(this).parent('.preview'),\r\n            video = preview.siblings('.video__vimeohttps');\r\n\r\n        if (preview) {\r\n            preview.addClass('hide');\r\n            video.removeClass('hide').addClass('show');\r\n\r\n            player.play();\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n\r\n    //ToDO Переделать в полноценный модуль\r\n\r\n    let tab = {\r\n        $openBtn: $('.js-open-tab'),\r\n        $tabParent: $('.js-open-tab h3'),\r\n\r\n        open(target, index){\r\n\r\n            if (target == 'next') {\r\n\r\n                if (index >= this.lengthBlocks) {\r\n                    this.$tabParent.eq(0).addClass('open');\r\n                } else {\r\n                    this.$tabParent.eq(index).addClass('open');\r\n                }\r\n            } else {\r\n                target.closest('.js-open-tab').addClass('open');\r\n            }\r\n        },\r\n\r\n        close(){\r\n            this.$openBtn.removeClass('open');\r\n        },\r\n\r\n        controller(){\r\n            let that = this;\r\n            $('body').on('click', '.js-open-tab', function (e) {\r\n                if (e.target.tagName == 'H3' || e.target.tagName == 'SPAN') {\r\n\r\n                    if ($(this).hasClass('doctor__wrap')) {\r\n                        let doctorId = $(this).attr('data-doctor-id');\r\n                        let doctorInfo = '';\r\n                        $.ajax({\r\n                            url: 'doctor-info.json',\r\n                            // type: form.attr('method'),\r\n                            // url: form.attr('action'),\r\n                            // dataType: 'json',\r\n                            // data: data,\r\n\r\n                            success: function (data) {\r\n                                function parseArr(arr) {\r\n\r\n                                    if (Array.isArray(arr)) {\r\n                                        for (let i = 0; i < arr.length; i++) {\r\n                                            var specTr = (specTr ? specTr : '') + '' + arr[i] + '<br/>';\r\n                                        }\r\n                                        return specTr;\r\n                                    } else {\r\n                                        return arr;\r\n                                    }\r\n                                }\r\n\r\n                                console.log(data);\r\n\r\n                                let certif = data.certificates;\r\n                                let containerDoctorInfo = $('.doctor__content');\r\n\r\n                                containerDoctorInfo.html('');\r\n\r\n                                for (let i = 0; i < certif.length; i++) {\r\n                                    // console.log(certif[i].text);\r\n                                    var certifHtml = (certifHtml ? certifHtml : '') + '<li>' + (certif[i].icon ? '<div class=\"doctor__sertificat doctor__sertificat_icon js_popup_sert\"><img src=\"' + certif[i].icon + '\" alt=\"\"></div>' : '') + (certif[i].text ? '<div class=\"doctor__sertificat doctor__sertificat_text\">' + certif[i].text + '</div>' : '') + (certif[i].image ? '<div class=\"doctor__sertificat_img\"><img class=\"img_big\" src=\"' + certif[i].image + '\" alt=\"\"></div>' : '') + '</li>';\r\n                                }\r\n\r\n\r\n                                doctorInfo = '<div class=\"doctor__content_title\">' +\r\n                                    '<span>' + data.name + '</span>' +\r\n                                    '</div>' +\r\n                                    '<div class=\"doctor__content_left\">' +\r\n                                    '<div class=\"doctor__content_foto\">' +\r\n                                    '<img src=' + data.photo + ' alt=\"\"></div>' +\r\n                                    '</div>' +\r\n                                    '<div class=\"doctor__content_right\">' +\r\n                                    '<table><tbody>' +\r\n                                    '<tr><th>Клиника:</th><td>' + data.department + '</td></tr>' +\r\n\r\n                                    '<tr><th>Отделение:</th><td>' + parseArr(data.position) + '</td></tr>' +\r\n                                    '<tr><th>Специализация:</th><td>' + parseArr(data.specialization) + '</td></tr>' +\r\n                                    '<tr><th>Учёная степень:</th><td>' + parseArr(data.department) + '</td></tr>' +\r\n                                    '<tr><th>Образование:</th><td>' + parseArr(data.education) + '</td></tr>' +\r\n                                    '<tr><th>Врачебный стаж:</th><td>' + parseArr(data.worktime) + '</td></tr>' +\r\n                                    '<tr><th>Языки консультаций:</th><td>' + parseArr(data.languages) + '</td></tr>' +\r\n                                    '<tr><th>Сертификаты:</th><td>' +\r\n                                    '<ul>' + certifHtml + '</ul></td></tr>' +\r\n                                    '<tr><th>Публикации:</th><td>' + parseArr(data.publications) + '</td></tr>' +\r\n                                    '<tr><th>Дополнительные<br/>сведения:</th><td>' + parseArr(data.other) + '</td></tr>' +\r\n                                    '</tbody></table></div>';\r\n\r\n\r\n                                containerDoctorInfo.append(doctorInfo);\r\n                                doctorInfo = '';\r\n                            },\r\n                            error: function (error) {\r\n                                // console.log(error);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n\r\n                    let checkContent = $(this).children('.doctor__content'),\r\n                        checkParagraf = $(this).children('p');\r\n\r\n                    if (checkContent.length || checkParagraf.length) {\r\n                        if ($(this).hasClass('open')) {\r\n                            $(this).removeClass('open');\r\n                        } else {\r\n                            let currentIndex = that.$tabParent.index(parent);\r\n                            if (that.$tabParent.hasClass('open')) {\r\n                                that.close();\r\n                                that.open('next', ++currentIndex);\r\n                            } else {\r\n                                that.close();\r\n                                that.open($(this));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            });\r\n        },\r\n\r\n        init(){\r\n            this.controller();\r\n        }\r\n    };\r\n    tab.init();\r\n\r\n\r\n    let SertifPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_sertificat',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        // closeButtonsSelector: '.popup__close-button, .js-bad-answer-close',\r\n        customOpen: function ($elem) {\r\n            this.$popup.find('.popup__img img').attr('src', $elem);\r\n            this.openPopup();\r\n        }\r\n    });\r\n    popups.SertifPopup = SertifPopup;\r\n\r\n\r\n    $('.popup__close-button').on('click', (e) => {\r\n        e.preventDefault();\r\n        let popup = $(this).parent('.popup');\r\n        popup.removeClass('show');\r\n    });\r\n\r\n    $('body').on('click', '.js_popup_sert', function () {\r\n        var $img = $(this).siblings('.doctor__sertificat_img'),\r\n            $src = $img.find('img').attr('src');\r\n        SertifPopup.customOpen($src);\r\n        // popups.SertifPopup.openPopup();\r\n    });\r\n\r\n    $('.popup__back').on('click', () => {\r\n\r\n        let $body = $('body');\r\n        if ($body.find('.popup').filter('.show').length == '1') {\r\n            $body.find('.popup').filter('.show').removeClass('show');\r\n            $body.find('.popup__back').filter('.show').removeClass('show');\r\n            $(this).removeClass('show');\r\n        } else {\r\n            $body.find('.popup').filter('.show').last().removeClass('show');\r\n        }\r\n    });\r\n\r\n    let loginPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_login',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        closeButtonsSelector: '.popup__close-button, .js-bad-answer-close'\r\n    });\r\n    popups.loginPopup = loginPopup;\r\n\r\n    $('.js-login').on('click', function (e) {\r\n        e.preventDefault();\r\n        popups.loginPopup.openPopup();\r\n    });\r\n\r\n\r\n    $('select').on('change', function (e) {\r\n\r\n        var form = $(this.form);\r\n        var formId = form.attr('id');\r\n        var formType = form.data('form-type');\r\n        // var formType = form.data('form-type');\r\n        var data = form.serialize();\r\n        var container = $('.container');\r\n        var countryWrap = container.find('.counrty__wrap');\r\n\r\n\r\n        if (formType == \"ajax\") {\r\n            \r\n            $.ajax({\r\n                // url: 'price.json',\r\n                // url: 'contacts.json',\r\n                // type: form.attr('method'),\r\n                url: form.attr('action'),\r\n                // dataType: 'json',\r\n                // data: data,\r\n\r\n                success: function (data) {\r\n\r\n                    if (formId == 'filterContact') {\r\n                        $('.contacts__connection_list').html('');\r\n\r\n                        data.clinics.forEach(function (el) {\r\n\r\n                            var itemAdress = (itemAdress ? itemAdress : '') + '<li class=\"contacts__connection_item\">' +\r\n                                '<ul>' +\r\n                                '<li class=\"contacts__connection_adress\"><span>' + el.name + '</span></li>' +\r\n                                '<li class=\"contacts__connection_phone\"><span>' + el.phones + '</span></li>' +\r\n                                '<li class=\"contacts__connection_site\">' +\r\n                                '<a href=\"' + el.web + '\">' + el.web + '</a></li>' +\r\n                                '<li class=\"contacts__connection_mail\">' +\r\n                                '<a href=\"mailto:' + el.email + '\">' + el.email + '</a></li>' +\r\n                                '</ul></li>';\r\n\r\n                            $('.contacts__connection_list').append(itemAdress);\r\n\r\n                        });\r\n\r\n\r\n                    } else {\r\n                        countryWrap.html('');\r\n                        data.forEach(function (el) {\r\n                            var clinicClass = '',\r\n                                clinicArr,\r\n                                doctorsHtml = '',\r\n                                priceContainerHtml = '',\r\n                                priceHtml = '';\r\n\r\n                            if (formId == 'filterDoctor') {\r\n                                clinicClass = 'doctor';\r\n                                clinicArr = el.clinics;\r\n\r\n                                for (let i = 0; i < clinicArr.length; i++) {\r\n                                    var doctorsArr = clinicArr[i].doctors;\r\n                                    for (let k = 0; k < doctorsArr.length; k++) {\r\n\r\n                                        doctorsHtml += '<div class=\"doctor__wrap js-open-tab\" data-doccor-id=\"' + doctorsArr[k].id + '\">' +\r\n                                            '<h3 class=\"doctor__wrap_name\">' + doctorsArr[k].name + '</h3>' +\r\n                                            '<div class=\"doctor__content\"></div></div>';\r\n                                    }\r\n                                }\r\n                                ;\r\n                            }\r\n\r\n                            if (formId == 'filterClinic') {\r\n                                clinicClass = 'clinics';\r\n                                clinicArr = el.clinics;\r\n\r\n                                for (let i = 0; i < clinicArr.length; i++) {\r\n                                    var clinicItem = clinicArr[i];\r\n                                    console.log(clinicItem);\r\n                                    var clinicLogo = clinicItem.logo ? '<img src=' + clinicItem.logo + ' alt=\"\">' : '<img src=\"/img/default_logo.png\" alt=\"\" class=\"default__img\">';\r\n                                    var clinicHtml = '<div class=\"clinics__clinic_name counrty__clinic_name\">' +\r\n                                        '<div class=\"counrty__clinic_left\">' + clinicLogo + '</div>' +\r\n                                        '<div class=\"counrty__clinic_right\"><span>' + clinicItem.name + '</span>' +\r\n                                        '<em>' + clinicItem.about + '</em></div></div>';\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n                            if (formId == 'filterPrice') {\r\n                                clinicClass = 'price';\r\n                                clinicArr = el.clinics;\r\n                                for (let i = 0; i < clinicArr.length; i++) {\r\n\r\n                                    if (clinicArr[i].doctors) {\r\n                                        var doctorPriceDefault = '<div class=\"price__decription_text\">*Стоимость консультации у перечисленных ниже докторов может<br/>отличаться от стоимости консультации клиники</div>';\r\n                                        var doctorPriceInfo = '';\r\n\r\n                                        for (let k = 0; k < clinicArr[i].doctors.length; k++) {\r\n                                            let doctorItem = clinicArr[i].doctors[k];\r\n\r\n                                            doctorPriceInfo += '<div class=\"price__item\">' +\r\n                                                '<span class=\"price__prop js_doctor-info\">' + doctorItem.name + '</span>' +\r\n                                                '<div class=\"price__dots\"></div>' +\r\n                                                '<span class=\"price__value\">' + doctorItem.cost + '</span></div>';\r\n\r\n                                            var doctorsList = '<div class=\"price__list price__list_doctors\" data-id=\"' + doctorItem.id + '\">' + doctorPriceInfo + '</div>'\r\n                                        }\r\n                                    }\r\n\r\n                                    priceHtml += '<div class=\"price__item\">' +\r\n                                        '<span class=\"price__prop\">Стоимость консультации</span>' +\r\n                                        '<div class=\"price__dots\"></div>' +\r\n                                        '<span class=\"price__value\">' + clinicArr[i].cost + ' ' + el.currency + '</span> ' +\r\n                                        '</div>';\r\n\r\n                                    priceContainerHtml = '<div class=\"price__list\"> ' + priceHtml + '</div>' + ((clinicArr[i].doctors) ? doctorPriceDefault + doctorsList : '');\r\n                                }\r\n                                ;\r\n\r\n                            }\r\n\r\n                            for (let i = 0; i < clinicArr.length; i++) {\r\n                                var clinicItem = clinicArr[i];\r\n\r\n                                if (clinicClass == 'doctor') {\r\n                                    clinicItem = clinicArr[i].clinic;\r\n                                }\r\n\r\n                                var clinicLogo = clinicItem.logo ? '<img src=' + clinicItem.logo + ' alt=\"\">' : '<img src=\"/img/default_logo.png\" alt=\"\" class=\"default__img\">';\r\n                                var clinicsHtml = '<div class=\"' + clinicClass + '__clinic counrty__clinic\">' +\r\n                                    '<div class=\"' + clinicClass + '__clinic_name counrty__clinic_name\">' +\r\n                                    '<span>' + clinicItem.name + '</span>' +\r\n                                    '<em>' + clinicItem.about + '</em>' + clinicLogo +\r\n                                    '</div>' + (priceContainerHtml ? priceContainerHtml : '') + '</div>';\r\n\r\n                            }\r\n                            if (clinicClass == 'clinics') {\r\n                                countryWrap.append('<div class=\"' + clinicClass + '__country counrty__clinic\">' +\r\n                                    '<h3>' + el.country + '</h3>' + clinicHtml + '' + (doctorsHtml ? doctorsHtml : '') + '</div>'\r\n                                );\r\n                            } else {\r\n                                countryWrap.append('<div class=\"' + clinicClass + '__country counrty\">' +\r\n                                    '<h3>' + el.country + '</h3>' + clinicsHtml + '' + (doctorsHtml ? doctorsHtml : '') + '</div>'\r\n                                );\r\n                            }\r\n\r\n\r\n                        });\r\n                    }\r\n                },\r\n                error: function (error) {\r\n                    console.log(error);\r\n                }\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    $('.js-show-attention').on('click', function (e) {\r\n        e.preventDefault();\r\n        console.log();\r\n\r\n\r\n        let attentionBlock = $('.contacts__connection');\r\n        attentionBlock.toggleClass('hide');\r\n    });\r\n\r\n\r\n    let doctorInfoPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_doctor-info',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        closeButtonsSelector: '.popup__close-button, .js-bad-answer-close',\r\n        customOpen: function ($elem) {\r\n            let container = this.$popup.find('.doctor-info');\r\n            container.html('');\r\n            container.append($elem);\r\n            this.openPopup();\r\n        }\r\n    });\r\n    popups.doctorInfoPopup = doctorInfoPopup;\r\n\r\n\r\n    $('body').on('click', '.js_doctor-info', function () {\r\n\r\n        let idDoctor = $(this).data('id');\r\n        let doctorInfo = '';\r\n        console.log('asdasd');\r\n\r\n        $.ajax({\r\n            url: 'doctor-info.json',\r\n            // url: 'contacts.json',\r\n            // type: 'POST',\r\n            // url: form.attr('action'),\r\n            // dataType: 'json',\r\n            // data: 'doctorID': idDoctor,\r\n\r\n            success: function (data) {\r\n                function parseArr(arr) {\r\n                    if (Array.isArray(arr)) {\r\n                        for (let i = 0; i < arr.length; i++) {\r\n                            var specTr = (specTr ? specTr : '') + '' + arr[i] + '<br/>';\r\n                        }\r\n                        return specTr;\r\n                    } else {\r\n                        return arr;\r\n                    }\r\n                }\r\n\r\n                let certif = data.certificates;\r\n                let containerDoctorInfo = $('.doctor__content');\r\n\r\n                containerDoctorInfo.html('');\r\n\r\n                for (let i = 0; i < certif.length; i++) {\r\n                    // console.log(certif[i].text);\r\n                    var certifHtml = (certifHtml ? certifHtml : '') + '<tr><th>' + (certif[i].icon ? '<div class=\"doctor__sertificat doctor__sertificat_icon js_popup_sert\"><img src=\"' + certif[i].icon + '\" alt=\"\"></div>' : '') + (certif[i].image ? '<div class=\"doctor__sertificat_img\"><img class=\"img_big\" src=\"' + certif[i].image + '\" alt=\"\"></div>' : '') + '</th><td>' + (certif[i].text ? '<div class=\"doctor__sertificat doctor__sertificat_text\">' + certif[i].text + '</div>' : '') + '</td></tr>';\r\n                }\r\n\r\n\r\n                doctorInfo = '<div class=\"doctor-info__name\">' + data.name +\r\n                    '</div>' +\r\n                    '<div class=\"doctor-info__left\">' +\r\n                    '<div class=\"doctor-info__foto\">' +\r\n                    '<img src=' + data.photo + ' alt=\"\"></div>' +\r\n                    '<a href=\"\" class=\"doctor-info__btn btn\">Оставить заявку <br/> на консультацию</a>' +\r\n                    '</div>' +\r\n                    '<div class=\"doctor-info__right\">' +\r\n                    '<div class=\"doctor-info__content\">' +\r\n                    '<table><tbody>' +\r\n                    '<tr><th>Клиника:</th><td>' + data.department + '</td></tr>' +\r\n\r\n                    '<tr><th>Отделение:</th><td>' + parseArr(data.position) + '</td></tr>' +\r\n                    '<tr><th>Специализация:</th><td>' + parseArr(data.specialization) + '</td></tr>' +\r\n                    '<tr><th>Учёная степень:</th><td>' + parseArr(data.department) + '</td></tr>' +\r\n                    '<tr><th>Образование:</th><td>' + parseArr(data.education) + '</td></tr>' +\r\n                    '<tr><th>Врачебный стаж:</th><td>' + parseArr(data.worktime) + '</td></tr>' +\r\n                    '<tr><th>Языки консультаций:</th><td>' + parseArr(data.languages) + '</td></tr>' +\r\n                    '<tr><th>Сертификаты:</th></th><tr>' + certifHtml +\r\n                    '<tr><th>Публикации:</th><td>' + parseArr(data.publications) + '</td></tr>' +\r\n                    '<tr><th>Дополнительные<br/>сведения:</th><td>' + parseArr(data.other) + '</td></tr>' +\r\n                    '</tbody></table></div></div>';\r\n\r\n                doctorInfoPopup.customOpen(doctorInfo);\r\n                doctorInfo = '';\r\n            },\r\n            error: function (error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n    });\r\n\r\n});","class Popup {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.$body = $('body');\r\n\t\tthis.$back = $(data.backSelector);\r\n\t\tthis.$popups = $(data.popupsSelector);\r\n\t\tthis.popupSelector = data.popupSelector;\r\n\t\tthis.$popup = this.$popups.filter(data.popupSelector);\r\n\t\tthis.popupActiveClass = data.popupActiveClass;\r\n\t\tthis.backActiveClass = data.backActiveClass;\r\n\t\tthis.closeButtonsSelector = data.closeButtonsSelector;\r\n\t\tthis.openButtonsSelector = data.openButtonsSelector;\r\n\t\tthis.isCloseAllWhenOpen = data.isCloseAllWhenOpen || true;\r\n\t\tthis.onResizeCallback = (typeof data.onResizeCallback == \"function\") ? data.onResizeCallback : '' ;\r\n\t\tthis.onCloseCallback = (typeof data.onCloseCallback == \"function\") ? data.onCloseCallback : '' ;\r\n\t\tthis.customOpen = (typeof data.customOpen == \"function\") ? data.customOpen : '' ;\r\n\r\n\t\tthis.addEventListners();\r\n\t}\r\n\r\n\taddEventListners ()  {\r\n\t\t$(this.openButtonsSelector).on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.openPopup();\r\n\t\t});\r\n\t\tthis.$popup.on('click', this.closeButtonsSelector, () => {\r\n\t\t\tthis.closePopup();\r\n\t\t});\r\n\t\t$(window).on('resize', () => {\r\n\t\t\tthis.$popup.css('left', '0');\r\n\r\n\t\t\tif (this.$popup.hasClass(this.popupActiveClass)) {\r\n\r\n\t\t\t\tthis.getLeft();\r\n\t\t\t\tthis.getTop ();\r\n\r\n\t\t\t\tif (this.onResizeCallback) {\r\n\t\t\t\t\tthis.onResizeCallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\topenPopup () {\r\n\t\tthis.$popup.css('top', '-20px');\r\n\t\tthis.showBack();\r\n\t\tthis.getLeft();\r\n\t\tthis.getTop ();\r\n\t\tthis.$popup.addClass(this.popupActiveClass);\r\n\t}\r\n\r\n\r\n\tclosePopup() {\r\n\r\n\t\t// this.closeAll();\r\n\r\n\t\tthis.$popup.removeClass(this.popupActiveClass);\r\n\t\tif (!this.$popups.filter('.show').length) {\r\n\t\t\tthis.hideBack();\r\n\t\t}\r\n\r\n\t\tif (this.onCloseCallback) {\r\n\t\t\tthis.onCloseCallback();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcloseAll() {\r\n\t\tthis.$popups.removeClass(this.popupActiveClass);\r\n\t}\r\n\r\n\tshowBack () {\r\n\t\tthis.$back.addClass(this.backActiveClass);\r\n\t}\r\n\r\n\thideBack () {\r\n\t\tthis.$back.removeClass(this.backActiveClass);\r\n\t}\r\n\r\n\tgetLeft () {\r\n\t\tlet left = parseInt(this.$body.outerWidth()) / 2 - this.$popup.outerWidth() / 2;\r\n\t\tthis.$popup.css('left', `${left}px`);\r\n\t}\r\n\tgetTop () {\r\n\t\tlet top = this.$body.scrollTop() + 20;\r\n\t\t// let top = parseInt(this.$body.outerHeight()) / 2 - this.$popup.outerHeight() / 2;\r\n\t\tthis.$popup.css('top', `${top}px`);\r\n\t}\r\n}\r\n\r\nexport default Popup;\r\n\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2VzXFxqc1xcbWFpbi5qcyIsInNvdXJjZXNcXGpzXFxtb2R1bGVzXFxwb3B1cC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQUNBLElBQU0sU0FBUyxFQUFmOztBQUVBLEVBQUUsWUFBWTtBQUFBOztBQUNWLFFBQUksRUFBRSxZQUFGLEVBQWdCLE1BQXBCLEVBQTRCO0FBQ3hCLFVBQUUsWUFBRixFQUFnQixLQUFoQixDQUFzQjtBQUNsQixzQkFBVSxJQURRO0FBRWxCLDBCQUFjLENBRkk7QUFHbEIsNEJBQWdCLENBSEU7QUFJbEIsdUJBQVcsNENBSk87QUFLbEIsdUJBQVc7QUFMTyxTQUF0QjtBQU9IO0FBQ0QsUUFBSSxFQUFFLGlCQUFGLEVBQXFCLE1BQXpCLEVBQWlDOztBQUU3QixVQUFFLGlCQUFGLEVBQXFCLEtBQXJCLENBQTJCO0FBQ3ZCLHNCQUFVLElBRGE7QUFFdkIsMEJBQWMsQ0FGUztBQUd2Qiw0QkFBZ0IsQ0FITztBQUl2QixvQkFBUSxLQUplO0FBS3ZCO0FBQ0Esc0JBQVUsSUFOYTtBQU92QiwyQkFBZTtBQUNmO0FBQ0E7QUFUdUIsU0FBM0I7QUFXSDs7QUFHRCxNQUFFLE1BQUYsRUFBVSxNQUFWLENBQWlCLFlBQVk7QUFDekIsWUFBSSxRQUFRLEVBQUUsU0FBRixDQUFaOztBQUVBLFlBQUksRUFBRSxJQUFGLEVBQVEsU0FBUixLQUFzQixDQUExQixFQUE2QjtBQUN6QixrQkFBTSxXQUFOLENBQWtCLFdBQWxCO0FBQ0gsU0FGRCxNQUVPLElBQUksRUFBRSxJQUFGLEVBQVEsU0FBUixNQUF1QixDQUEzQixFQUE4QjtBQUNqQyxrQkFBTSxRQUFOLENBQWUsV0FBZjtBQUVIO0FBRUosS0FWRDs7QUFZQSxRQUFJLFVBQVU7QUFDVixZQUFJLFFBRE07QUFFVixjQUFNO0FBRkksS0FBZDtBQUlBOztBQUVBLFFBQUksUUFBUSxFQUFF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LEtBQUssS0FBTCxDQUFXLFVBQVgsRUFBVCxJQUFvQyxDQUFwQyxHQUF3QyxLQUFLLE1BQUwsQ0FBWSxVQUFaLEtBQTJCLENBQTlFO0FBQ0EsUUFBSyxNQUFMLENBQVksR0FBWixDQUFnQixNQUFoQixFQUEyQixJQUEzQjtBQUNBOzs7MkJBQ1M7QUFDVCxPQUFJLE1BQU0sS0FBSyxLQUFMLENBQVcsU0FBWCxLQUF5QixFQUFuQztBQUNBO0FBQ0EsUUFBSyxNQUFMLENBQVksR0FBWixDQUFnQixLQUFoQixFQUEwQixHQUExQjtBQUNBOzs7Ozs7a0JBR2EsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9tb2R1bGVzL3BvcHVwJztcclxuY29uc3QgcG9wdXBzID0ge307XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKCcuanMtc2xpZGVyJykubGVuZ3RoKSB7XHJcbiAgICAgICAgJCgnLmpzLXNsaWRlcicpLnNsaWNrKHtcclxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cInNsaWNrLWFycm93IHNsaWNrLW5leHRcIj48L2Rpdj4nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoJCgnLmpzLXNsaWRlcl92ZXJ0JykubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICQoJy5qcy1zbGlkZXJfdmVydCcpLnNsaWNrKHtcclxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIC8vIHZlcnRpY2FsOiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMjAwMFxyXG4gICAgICAgICAgICAvLyBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stcHJldlwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgIC8vIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1uZXh0XCI+PC9kaXY+J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJG1lbnUgPSAkKCcuaGVhZGVyJyk7XHJcblxyXG4gICAgICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpID4gMCkge1xyXG4gICAgICAgICAgICAkbWVudS5yZW1vdmVDbGFzcygnZml4ZWRfdG9wJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpIDw9IDEpIHtcclxuICAgICAgICAgICAgJG1lbnUuYWRkQ2xhc3MoXCJmaXhlZF90b3BcIik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICBpZDogNjEwNDI0MDYsXHJcbiAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgfTtcclxuICAgIC8vXHJcblxyXG4gICAgbGV0IHZpZGVvID0gJChcIiN2aWRlb1wiKTtcclxuICAgIGxldCBwbGF5QnRuID0gJCgnLnBsYXknKTtcclxuICAgIGlmICh2aWRlby5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgcGxheWVyID0gbmV3IFZpbWVvLlBsYXllcih2aWRlbywgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHBsYXlCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IHByZXZpZXcgPSAkKHRoaXMpLnBhcmVudCgnLnByZXZpZXcnKSxcclxuICAgICAgICAgICAgdmlkZW8gPSBwcmV2aWV3LnNpYmxpbmdzKCcudmlkZW9fX3ZpbWVvaHR0cHMnKTtcclxuXHJcbiAgICAgICAgaWYgKHByZXZpZXcpIHtcclxuICAgICAgICAgICAgcHJldmlldy5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICB2aWRlby5yZW1vdmVDbGFzcygnaGlkZScpLmFkZENsYXNzKCdzaG93Jyk7XHJcblxyXG4gICAgICAgICAgICBwbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vVG9ETyDQn9C10YDQtdC00LXQu9Cw0YLRjCDQsiDQv9C+0LvQvdC+0YbQtdC90L3Ri9C5INC80L7QtNGD0LvRjFxyXG5cclxuICAgIGxldCB0YWIgPSB7XHJcbiAgICAgICAgJG9wZW5CdG46ICQoJy5qcy1vcGVuLXRhYicpLFxyXG4gICAgICAgICR0YWJQYXJlbnQ6ICQoJy5qcy1vcGVuLXRhYiBoMycpLFxyXG5cclxuICAgICAgICBvcGVuKHRhcmdldCwgaW5kZXgpe1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PSAnbmV4dCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy5sZW5ndGhCbG9ja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0YWJQYXJlbnQuZXEoMCkuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFiUGFyZW50LmVxKGluZGV4KS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5qcy1vcGVuLXRhYicpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbG9zZSgpe1xyXG4gICAgICAgICAgICB0aGlzLiRvcGVuQnRuLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY29udHJvbGxlcigpe1xyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmpzLW9wZW4tdGFiJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09ICdIMycgfHwgZS50YXJnZXQudGFnTmFtZSA9PSAnU1BBTicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2RvY3Rvcl9fd3JhcCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N0b3JJZCA9ICQodGhpcykuYXR0cignZGF0YS1kb2N0b3ItaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3RvckluZm8gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2RvY3Rvci1pbmZvLmpzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkYXRhOiBkYXRhLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VBcnIoYXJyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGVjVHIgPSAoc3BlY1RyID8gc3BlY1RyIDogJycpICsgJycgKyBhcnJbaV0gKyAnPGJyLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwZWNUcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2VydGlmID0gZGF0YS5jZXJ0aWZpY2F0ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lckRvY3RvckluZm8gPSAkKCcuZG9jdG9yX19jb250ZW50Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckRvY3RvckluZm8uaHRtbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VydGlmLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNlcnRpZltpXS50ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlcnRpZkh0bWwgPSAoY2VydGlmSHRtbCA/IGNlcnRpZkh0bWwgOiAnJykgKyAnPGxpPicgKyAoY2VydGlmW2ldLmljb24gPyAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fc2VydGlmaWNhdCBkb2N0b3JfX3NlcnRpZmljYXRfaWNvbiBqc19wb3B1cF9zZXJ0XCI+PGltZyBzcmM9XCInICsgY2VydGlmW2ldLmljb24gKyAnXCIgYWx0PVwiXCI+PC9kaXY+JyA6ICcnKSArIChjZXJ0aWZbaV0udGV4dCA/ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19zZXJ0aWZpY2F0IGRvY3Rvcl9fc2VydGlmaWNhdF90ZXh0XCI+JyArIGNlcnRpZltpXS50ZXh0ICsgJzwvZGl2PicgOiAnJykgKyAoY2VydGlmW2ldLmltYWdlID8gJzxkaXYgY2xhc3M9XCJkb2N0b3JfX3NlcnRpZmljYXRfaW1nXCI+PGltZyBjbGFzcz1cImltZ19iaWdcIiBzcmM9XCInICsgY2VydGlmW2ldLmltYWdlICsgJ1wiIGFsdD1cIlwiPjwvZGl2PicgOiAnJykgKyAnPC9saT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3RvckluZm8gPSAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudF90aXRsZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4+JyArIGRhdGEubmFtZSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkb2N0b3JfX2NvbnRlbnRfbGVmdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudF9mb3RvXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz0nICsgZGF0YS5waG90byArICcgYWx0PVwiXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkb2N0b3JfX2NvbnRlbnRfcmlnaHRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0YWJsZT48dGJvZHk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCa0LvQuNC90LjQutCwOjwvdGg+PHRkPicgKyBkYXRhLmRlcGFydG1lbnQgKyAnPC90ZD48L3RyPicgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J7RgtC00LXQu9C10L3QuNC1OjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLnBvc2l0aW9uKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCh0L/QtdGG0LjQsNC70LjQt9Cw0YbQuNGPOjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLnNwZWNpYWxpemF0aW9uKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCj0YfRkdC90LDRjyDRgdGC0LXQv9C10L3RjDo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5kZXBhcnRtZW50KSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCe0LHRgNCw0LfQvtCy0LDQvdC40LU6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEuZWR1Y2F0aW9uKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCS0YDQsNGH0LXQsdC90YvQuSDRgdGC0LDQtjo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS53b3JrdGltZSkgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7Qr9C30YvQutC4INC60L7QvdGB0YPQu9GM0YLQsNGG0LjQuTo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5sYW5ndWFnZXMpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0KHQtdGA0YLQuNGE0LjQutCw0YLRizo8L3RoPjx0ZD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx1bD4nICsgY2VydGlmSHRtbCArICc8L3VsPjwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J/Rg9Cx0LvQuNC60LDRhtC40Lg6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEucHVibGljYXRpb25zKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LU8YnIvPtGB0LLQtdC00LXQvdC40Y86PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEub3RoZXIpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvdGJvZHk+PC90YWJsZT48L2Rpdj4nO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRG9jdG9ySW5mby5hcHBlbmQoZG9jdG9ySW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdG9ySW5mbyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGVja0NvbnRlbnQgPSAkKHRoaXMpLmNoaWxkcmVuKCcuZG9jdG9yX19jb250ZW50JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUGFyYWdyYWYgPSAkKHRoaXMpLmNoaWxkcmVuKCdwJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0NvbnRlbnQubGVuZ3RoIHx8IGNoZWNrUGFyYWdyYWYubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50SW5kZXggPSB0aGF0LiR0YWJQYXJlbnQuaW5kZXgocGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LiR0YWJQYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm9wZW4oJ25leHQnLCArK2N1cnJlbnRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm9wZW4oJCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5pdCgpe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGFiLmluaXQoKTtcclxuXHJcblxyXG4gICAgbGV0IFNlcnRpZlBvcHVwID0gbmV3IFBvcHVwKHtcclxuICAgICAgICBiYWNrU2VsZWN0b3I6ICcucG9wdXBfX2JhY2snLFxyXG4gICAgICAgIHBvcHVwc1NlbGVjdG9yOiAnLnBvcHVwJyxcclxuICAgICAgICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX3NlcnRpZmljYXQnLFxyXG4gICAgICAgIHBvcHVwQWN0aXZlQ2xhc3M6ICdzaG93JyxcclxuICAgICAgICBiYWNrQWN0aXZlQ2xhc3M6ICdzaG93JyxcclxuICAgICAgICAvLyBjbG9zZUJ1dHRvbnNTZWxlY3RvcjogJy5wb3B1cF9fY2xvc2UtYnV0dG9uLCAuanMtYmFkLWFuc3dlci1jbG9zZScsXHJcbiAgICAgICAgY3VzdG9tT3BlbjogZnVuY3Rpb24gKCRlbGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHBvcHVwLmZpbmQoJy5wb3B1cF9faW1nIGltZycpLmF0dHIoJ3NyYycsICRlbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuUG9wdXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHBvcHVwcy5TZXJ0aWZQb3B1cCA9IFNlcnRpZlBvcHVwO1xyXG5cclxuXHJcbiAgICAkKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBwb3B1cCA9ICQodGhpcykucGFyZW50KCcucG9wdXAnKTtcclxuICAgICAgICBwb3B1cC5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuanNfcG9wdXBfc2VydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJGltZyA9ICQodGhpcykuc2libGluZ3MoJy5kb2N0b3JfX3NlcnRpZmljYXRfaW1nJyksXHJcbiAgICAgICAgICAgICRzcmMgPSAkaW1nLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgIFNlcnRpZlBvcHVwLmN1c3RvbU9wZW4oJHNyYyk7XHJcbiAgICAgICAgLy8gcG9wdXBzLlNlcnRpZlBvcHVwLm9wZW5Qb3B1cCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19iYWNrJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgJGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICAgICAgaWYgKCRib2R5LmZpbmQoJy5wb3B1cCcpLmZpbHRlcignLnNob3cnKS5sZW5ndGggPT0gJzEnKSB7XHJcbiAgICAgICAgICAgICRib2R5LmZpbmQoJy5wb3B1cCcpLmZpbHRlcignLnNob3cnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgICAgICAkYm9keS5maW5kKCcucG9wdXBfX2JhY2snKS5maWx0ZXIoJy5zaG93JykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRib2R5LmZpbmQoJy5wb3B1cCcpLmZpbHRlcignLnNob3cnKS5sYXN0KCkucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgbG9naW5Qb3B1cCA9IG5ldyBQb3B1cCh7XHJcbiAgICAgICAgYmFja1NlbGVjdG9yOiAnLnBvcHVwX19iYWNrJyxcclxuICAgICAgICBwb3B1cHNTZWxlY3RvcjogJy5wb3B1cCcsXHJcbiAgICAgICAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF9sb2dpbicsXHJcbiAgICAgICAgcG9wdXBBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGJhY2tBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGNsb3NlQnV0dG9uc1NlbGVjdG9yOiAnLnBvcHVwX19jbG9zZS1idXR0b24sIC5qcy1iYWQtYW5zd2VyLWNsb3NlJ1xyXG4gICAgfSk7XHJcbiAgICBwb3B1cHMubG9naW5Qb3B1cCA9IGxvZ2luUG9wdXA7XHJcblxyXG4gICAgJCgnLmpzLWxvZ2luJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcG9wdXBzLmxvZ2luUG9wdXAub3BlblBvcHVwKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgIHZhciBmb3JtID0gJCh0aGlzLmZvcm0pO1xyXG4gICAgICAgIHZhciBmb3JtSWQgPSBmb3JtLmF0dHIoJ2lkJyk7XHJcbiAgICAgICAgdmFyIGZvcm1UeXBlID0gZm9ybS5kYXRhKCdmb3JtLXR5cGUnKTtcclxuICAgICAgICAvLyB2YXIgZm9ybVR5cGUgPSBmb3JtLmRhdGEoJ2Zvcm0tdHlwZScpO1xyXG4gICAgICAgIHZhciBkYXRhID0gZm9ybS5zZXJpYWxpemUoKTtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gJCgnLmNvbnRhaW5lcicpO1xyXG4gICAgICAgIHZhciBjb3VudHJ5V3JhcCA9IGNvbnRhaW5lci5maW5kKCcuY291bnJ0eV9fd3JhcCcpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGZvcm1UeXBlID09IFwiYWpheFwiKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiAncHJpY2UuanNvbicsXHJcbiAgICAgICAgICAgICAgICAvLyB1cmw6ICdjb250YWN0cy5qc29uJyxcclxuICAgICAgICAgICAgICAgIC8vIHR5cGU6IGZvcm0uYXR0cignbWV0aG9kJyksXHJcbiAgICAgICAgICAgICAgICB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgLy8gZGF0YTogZGF0YSxcclxuXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlkID09ICdmaWx0ZXJDb250YWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY29udGFjdHNfX2Nvbm5lY3Rpb25fbGlzdCcpLmh0bWwoJycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jbGluaWNzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1BZHJlc3MgPSAoaXRlbUFkcmVzcyA/IGl0ZW1BZHJlc3MgOiAnJykgKyAnPGxpIGNsYXNzPVwiY29udGFjdHNfX2Nvbm5lY3Rpb25faXRlbVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dWw+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImNvbnRhY3RzX19jb25uZWN0aW9uX2FkcmVzc1wiPjxzcGFuPicgKyBlbC5uYW1lICsgJzwvc3Bhbj48L2xpPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJjb250YWN0c19fY29ubmVjdGlvbl9waG9uZVwiPjxzcGFuPicgKyBlbC5waG9uZXMgKyAnPC9zcGFuPjwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImNvbnRhY3RzX19jb25uZWN0aW9uX3NpdGVcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cIicgKyBlbC53ZWIgKyAnXCI+JyArIGVsLndlYiArICc8L2E+PC9saT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiY29udGFjdHNfX2Nvbm5lY3Rpb25fbWFpbFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YSBocmVmPVwibWFpbHRvOicgKyBlbC5lbWFpbCArICdcIj4nICsgZWwuZW1haWwgKyAnPC9hPjwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvdWw+PC9saT4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jb250YWN0c19fY29ubmVjdGlvbl9saXN0JykuYXBwZW5kKGl0ZW1BZHJlc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5V3JhcC5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY0NsYXNzID0gJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbmljQXJyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3RvcnNIdG1sID0gJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VDb250YWluZXJIdG1sID0gJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VIdG1sID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1JZCA9PSAnZmlsdGVyRG9jdG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0NsYXNzID0gJ2RvY3Rvcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbmljQXJyID0gZWwuY2xpbmljcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGluaWNBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3RvcnNBcnIgPSBjbGluaWNBcnJbaV0uZG9jdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkb2N0b3JzQXJyLmxlbmd0aDsgaysrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdG9yc0h0bWwgKz0gJzxkaXYgY2xhc3M9XCJkb2N0b3JfX3dyYXAganMtb3Blbi10YWJcIiBkYXRhLWRvY2Nvci1pZD1cIicgKyBkb2N0b3JzQXJyW2tdLmlkICsgJ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDMgY2xhc3M9XCJkb2N0b3JfX3dyYXBfbmFtZVwiPicgKyBkb2N0b3JzQXJyW2tdLm5hbWUgKyAnPC9oMz4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudFwiPjwvZGl2PjwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSWQgPT0gJ2ZpbHRlckNsaW5pYycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNDbGFzcyA9ICdjbGluaWNzJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIgPSBlbC5jbGluaWNzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaW5pY0Fyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpbmljSXRlbSA9IGNsaW5pY0FycltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2xpbmljSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNMb2dvID0gY2xpbmljSXRlbS5sb2dvID8gJzxpbWcgc3JjPScgKyBjbGluaWNJdGVtLmxvZ28gKyAnIGFsdD1cIlwiPicgOiAnPGltZyBzcmM9XCIvaW1nL2RlZmF1bHRfbG9nby5wbmdcIiBhbHQ9XCJcIiBjbGFzcz1cImRlZmF1bHRfX2ltZ1wiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNIdG1sID0gJzxkaXYgY2xhc3M9XCJjbGluaWNzX19jbGluaWNfbmFtZSBjb3VucnR5X19jbGluaWNfbmFtZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb3VucnR5X19jbGluaWNfbGVmdFwiPicgKyBjbGluaWNMb2dvICsgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb3VucnR5X19jbGluaWNfcmlnaHRcIj48c3Bhbj4nICsgY2xpbmljSXRlbS5uYW1lICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZW0+JyArIGNsaW5pY0l0ZW0uYWJvdXQgKyAnPC9lbT48L2Rpdj48L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSWQgPT0gJ2ZpbHRlclByaWNlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0NsYXNzID0gJ3ByaWNlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIgPSBlbC5jbGluaWNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpbmljQXJyLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpbmljQXJyW2ldLmRvY3RvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb2N0b3JQcmljZURlZmF1bHQgPSAnPGRpdiBjbGFzcz1cInByaWNlX19kZWNyaXB0aW9uX3RleHRcIj4q0KHRgtC+0LjQvNC+0YHRgtGMINC60L7QvdGB0YPQu9GM0YLQsNGG0LjQuCDRgyDQv9C10YDQtdGH0LjRgdC70LXQvdC90YvRhSDQvdC40LbQtSDQtNC+0LrRgtC+0YDQvtCyINC80L7QttC10YI8YnIvPtC+0YLQu9C40YfQsNGC0YzRgdGPINC+0YIg0YHRgtC+0LjQvNC+0YHRgtC4INC60L7QvdGB0YPQu9GM0YLQsNGG0LjQuCDQutC70LjQvdC40LrQuDwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jdG9yUHJpY2VJbmZvID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjbGluaWNBcnJbaV0uZG9jdG9ycy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2N0b3JJdGVtID0gY2xpbmljQXJyW2ldLmRvY3RvcnNba107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3RvclByaWNlSW5mbyArPSAnPGRpdiBjbGFzcz1cInByaWNlX19pdGVtXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInByaWNlX19wcm9wIGpzX2RvY3Rvci1pbmZvXCI+JyArIGRvY3Rvckl0ZW0ubmFtZSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicHJpY2VfX2RvdHNcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicHJpY2VfX3ZhbHVlXCI+JyArIGRvY3Rvckl0ZW0uY29zdCArICc8L3NwYW4+PC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3RvcnNMaXN0ID0gJzxkaXYgY2xhc3M9XCJwcmljZV9fbGlzdCBwcmljZV9fbGlzdF9kb2N0b3JzXCIgZGF0YS1pZD1cIicgKyBkb2N0b3JJdGVtLmlkICsgJ1wiPicgKyBkb2N0b3JQcmljZUluZm8gKyAnPC9kaXY+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwcmljZV9faXRlbVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicHJpY2VfX3Byb3BcIj7QodGC0L7QuNC80L7RgdGC0Ywg0LrQvtC90YHRg9C70YzRgtCw0YbQuNC4PC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcmljZV9fZG90c1wiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicHJpY2VfX3ZhbHVlXCI+JyArIGNsaW5pY0FycltpXS5jb3N0ICsgJyAnICsgZWwuY3VycmVuY3kgKyAnPC9zcGFuPiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VDb250YWluZXJIdG1sID0gJzxkaXYgY2xhc3M9XCJwcmljZV9fbGlzdFwiPiAnICsgcHJpY2VIdG1sICsgJzwvZGl2PicgKyAoKGNsaW5pY0FycltpXS5kb2N0b3JzKSA/IGRvY3RvclByaWNlRGVmYXVsdCArIGRvY3RvcnNMaXN0IDogJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpbmljQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY0l0ZW0gPSBjbGluaWNBcnJbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGluaWNDbGFzcyA9PSAnZG9jdG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNJdGVtID0gY2xpbmljQXJyW2ldLmNsaW5pYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNMb2dvID0gY2xpbmljSXRlbS5sb2dvID8gJzxpbWcgc3JjPScgKyBjbGluaWNJdGVtLmxvZ28gKyAnIGFsdD1cIlwiPicgOiAnPGltZyBzcmM9XCIvaW1nL2RlZmF1bHRfbG9nby5wbmdcIiBhbHQ9XCJcIiBjbGFzcz1cImRlZmF1bHRfX2ltZ1wiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY3NIdG1sID0gJzxkaXYgY2xhc3M9XCInICsgY2xpbmljQ2xhc3MgKyAnX19jbGluaWMgY291bnJ0eV9fY2xpbmljXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiJyArIGNsaW5pY0NsYXNzICsgJ19fY2xpbmljX25hbWUgY291bnJ0eV9fY2xpbmljX25hbWVcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuPicgKyBjbGluaWNJdGVtLm5hbWUgKyAnPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGVtPicgKyBjbGluaWNJdGVtLmFib3V0ICsgJzwvZW0+JyArIGNsaW5pY0xvZ28gK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArIChwcmljZUNvbnRhaW5lckh0bWwgPyBwcmljZUNvbnRhaW5lckh0bWwgOiAnJykgKyAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpbmljQ2xhc3MgPT0gJ2NsaW5pY3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeVdyYXAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiJyArIGNsaW5pY0NsYXNzICsgJ19fY291bnRyeSBjb3VucnR5X19jbGluaWNcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMz4nICsgZWwuY291bnRyeSArICc8L2gzPicgKyBjbGluaWNIdG1sICsgJycgKyAoZG9jdG9yc0h0bWwgPyBkb2N0b3JzSHRtbCA6ICcnKSArICc8L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeVdyYXAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiJyArIGNsaW5pY0NsYXNzICsgJ19fY291bnRyeSBjb3VucnR5XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDM+JyArIGVsLmNvdW50cnkgKyAnPC9oMz4nICsgY2xpbmljc0h0bWwgKyAnJyArIChkb2N0b3JzSHRtbCA/IGRvY3RvcnNIdG1sIDogJycpICsgJzwvZGl2PidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLXNob3ctYXR0ZW50aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBhdHRlbnRpb25CbG9jayA9ICQoJy5jb250YWN0c19fY29ubmVjdGlvbicpO1xyXG4gICAgICAgIGF0dGVudGlvbkJsb2NrLnRvZ2dsZUNsYXNzKCdoaWRlJyk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgbGV0IGRvY3RvckluZm9Qb3B1cCA9IG5ldyBQb3B1cCh7XHJcbiAgICAgICAgYmFja1NlbGVjdG9yOiAnLnBvcHVwX19iYWNrJyxcclxuICAgICAgICBwb3B1cHNTZWxlY3RvcjogJy5wb3B1cCcsXHJcbiAgICAgICAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF9kb2N0b3ItaW5mbycsXHJcbiAgICAgICAgcG9wdXBBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGJhY2tBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGNsb3NlQnV0dG9uc1NlbGVjdG9yOiAnLnBvcHVwX19jbG9zZS1idXR0b24sIC5qcy1iYWQtYW5zd2VyLWNsb3NlJyxcclxuICAgICAgICBjdXN0b21PcGVuOiBmdW5jdGlvbiAoJGVsZW0pIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuJHBvcHVwLmZpbmQoJy5kb2N0b3ItaW5mbycpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJGVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5Qb3B1cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcG9wdXBzLmRvY3RvckluZm9Qb3B1cCA9IGRvY3RvckluZm9Qb3B1cDtcclxuXHJcblxyXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuanNfZG9jdG9yLWluZm8nLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBpZERvY3RvciA9ICQodGhpcykuZGF0YSgnaWQnKTtcclxuICAgICAgICBsZXQgZG9jdG9ySW5mbyA9ICcnO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhc2Rhc2QnKTtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnZG9jdG9yLWluZm8uanNvbicsXHJcbiAgICAgICAgICAgIC8vIHVybDogJ2NvbnRhY3RzLmpzb24nLFxyXG4gICAgICAgICAgICAvLyB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIC8vIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgLy8gZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgLy8gZGF0YTogJ2RvY3RvcklEJzogaWREb2N0b3IsXHJcblxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VBcnIoYXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwZWNUciA9IChzcGVjVHIgPyBzcGVjVHIgOiAnJykgKyAnJyArIGFycltpXSArICc8YnIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwZWNUcjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY2VydGlmID0gZGF0YS5jZXJ0aWZpY2F0ZXM7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyRG9jdG9ySW5mbyA9ICQoJy5kb2N0b3JfX2NvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXJEb2N0b3JJbmZvLmh0bWwoJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VydGlmLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2VydGlmW2ldLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjZXJ0aWZIdG1sID0gKGNlcnRpZkh0bWwgPyBjZXJ0aWZIdG1sIDogJycpICsgJzx0cj48dGg+JyArIChjZXJ0aWZbaV0uaWNvbiA/ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19zZXJ0aWZpY2F0IGRvY3Rvcl9fc2VydGlmaWNhdF9pY29uIGpzX3BvcHVwX3NlcnRcIj48aW1nIHNyYz1cIicgKyBjZXJ0aWZbaV0uaWNvbiArICdcIiBhbHQ9XCJcIj48L2Rpdj4nIDogJycpICsgKGNlcnRpZltpXS5pbWFnZSA/ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19zZXJ0aWZpY2F0X2ltZ1wiPjxpbWcgY2xhc3M9XCJpbWdfYmlnXCIgc3JjPVwiJyArIGNlcnRpZltpXS5pbWFnZSArICdcIiBhbHQ9XCJcIj48L2Rpdj4nIDogJycpICsgJzwvdGg+PHRkPicgKyAoY2VydGlmW2ldLnRleHQgPyAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fc2VydGlmaWNhdCBkb2N0b3JfX3NlcnRpZmljYXRfdGV4dFwiPicgKyBjZXJ0aWZbaV0udGV4dCArICc8L2Rpdj4nIDogJycpICsgJzwvdGQ+PC90cj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBkb2N0b3JJbmZvID0gJzxkaXYgY2xhc3M9XCJkb2N0b3ItaW5mb19fbmFtZVwiPicgKyBkYXRhLm5hbWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvci1pbmZvX19sZWZ0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkb2N0b3ItaW5mb19fZm90b1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz0nICsgZGF0YS5waG90byArICcgYWx0PVwiXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxhIGhyZWY9XCJcIiBjbGFzcz1cImRvY3Rvci1pbmZvX19idG4gYnRuXCI+0J7RgdGC0LDQstC40YLRjCDQt9Cw0Y/QstC60YMgPGJyLz4g0L3QsCDQutC+0L3RgdGD0LvRjNGC0LDRhtC40Y48L2E+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZG9jdG9yLWluZm9fX3JpZ2h0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkb2N0b3ItaW5mb19fY29udGVudFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dGFibGU+PHRib2R5PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCa0LvQuNC90LjQutCwOjwvdGg+PHRkPicgKyBkYXRhLmRlcGFydG1lbnQgKyAnPC90ZD48L3RyPicgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QntGC0LTQtdC70LXQvdC40LU6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEucG9zaXRpb24pICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QodC/0LXRhtC40LDQu9C40LfQsNGG0LjRjzo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5zcGVjaWFsaXphdGlvbikgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCj0YfRkdC90LDRjyDRgdGC0LXQv9C10L3RjDo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5kZXBhcnRtZW50KSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J7QsdGA0LDQt9C+0LLQsNC90LjQtTo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5lZHVjYXRpb24pICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QktGA0LDRh9C10LHQvdGL0Lkg0YHRgtCw0LY6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEud29ya3RpbWUpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7Qr9C30YvQutC4INC60L7QvdGB0YPQu9GM0YLQsNGG0LjQuTo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5sYW5ndWFnZXMpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QodC10YDRgtC40YTQuNC60LDRgtGLOjwvdGg+PC90aD48dHI+JyArIGNlcnRpZkh0bWwgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCf0YPQsdC70LjQutCw0YbQuNC4OjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLnB1YmxpY2F0aW9ucykgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LU8YnIvPtGB0LLQtdC00LXQvdC40Y86PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEub3RoZXIpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdG9ySW5mb1BvcHVwLmN1c3RvbU9wZW4oZG9jdG9ySW5mbyk7XHJcbiAgICAgICAgICAgICAgICBkb2N0b3JJbmZvID0gJyc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59KTsiLCJjbGFzcyBQb3B1cCB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuXHRcdHRoaXMuJGJvZHkgPSAkKCdib2R5Jyk7XHJcblx0XHR0aGlzLiRiYWNrID0gJChkYXRhLmJhY2tTZWxlY3Rvcik7XHJcblx0XHR0aGlzLiRwb3B1cHMgPSAkKGRhdGEucG9wdXBzU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5wb3B1cFNlbGVjdG9yID0gZGF0YS5wb3B1cFNlbGVjdG9yO1xyXG5cdFx0dGhpcy4kcG9wdXAgPSB0aGlzLiRwb3B1cHMuZmlsdGVyKGRhdGEucG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLnBvcHVwQWN0aXZlQ2xhc3MgPSBkYXRhLnBvcHVwQWN0aXZlQ2xhc3M7XHJcblx0XHR0aGlzLmJhY2tBY3RpdmVDbGFzcyA9IGRhdGEuYmFja0FjdGl2ZUNsYXNzO1xyXG5cdFx0dGhpcy5jbG9zZUJ1dHRvbnNTZWxlY3RvciA9IGRhdGEuY2xvc2VCdXR0b25zU2VsZWN0b3I7XHJcblx0XHR0aGlzLm9wZW5CdXR0b25zU2VsZWN0b3IgPSBkYXRhLm9wZW5CdXR0b25zU2VsZWN0b3I7XHJcblx0XHR0aGlzLmlzQ2xvc2VBbGxXaGVuT3BlbiA9IGRhdGEuaXNDbG9zZUFsbFdoZW5PcGVuIHx8IHRydWU7XHJcblx0XHR0aGlzLm9uUmVzaXplQ2FsbGJhY2sgPSAodHlwZW9mIGRhdGEub25SZXNpemVDYWxsYmFjayA9PSBcImZ1bmN0aW9uXCIpID8gZGF0YS5vblJlc2l6ZUNhbGxiYWNrIDogJycgO1xyXG5cdFx0dGhpcy5vbkNsb3NlQ2FsbGJhY2sgPSAodHlwZW9mIGRhdGEub25DbG9zZUNhbGxiYWNrID09IFwiZnVuY3Rpb25cIikgPyBkYXRhLm9uQ2xvc2VDYWxsYmFjayA6ICcnIDtcclxuXHRcdHRoaXMuY3VzdG9tT3BlbiA9ICh0eXBlb2YgZGF0YS5jdXN0b21PcGVuID09IFwiZnVuY3Rpb25cIikgPyBkYXRhLmN1c3RvbU9wZW4gOiAnJyA7XHJcblxyXG5cdFx0dGhpcy5hZGRFdmVudExpc3RuZXJzKCk7XHJcblx0fVxyXG5cclxuXHRhZGRFdmVudExpc3RuZXJzICgpICB7XHJcblx0XHQkKHRoaXMub3BlbkJ1dHRvbnNTZWxlY3Rvcikub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR0aGlzLm9wZW5Qb3B1cCgpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLiRwb3B1cC5vbignY2xpY2snLCB0aGlzLmNsb3NlQnV0dG9uc1NlbGVjdG9yLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xyXG5cdFx0fSk7XHJcblx0XHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcclxuXHRcdFx0dGhpcy4kcG9wdXAuY3NzKCdsZWZ0JywgJzAnKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLiRwb3B1cC5oYXNDbGFzcyh0aGlzLnBvcHVwQWN0aXZlQ2xhc3MpKSB7XHJcblxyXG5cdFx0XHRcdHRoaXMuZ2V0TGVmdCgpO1xyXG5cdFx0XHRcdHRoaXMuZ2V0VG9wICgpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5vblJlc2l6ZUNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHR0aGlzLm9uUmVzaXplQ2FsbGJhY2soKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b3BlblBvcHVwICgpIHtcclxuXHRcdHRoaXMuJHBvcHVwLmNzcygndG9wJywgJy0yMHB4Jyk7XHJcblx0XHR0aGlzLnNob3dCYWNrKCk7XHJcblx0XHR0aGlzLmdldExlZnQoKTtcclxuXHRcdHRoaXMuZ2V0VG9wICgpO1xyXG5cdFx0dGhpcy4kcG9wdXAuYWRkQ2xhc3ModGhpcy5wb3B1cEFjdGl2ZUNsYXNzKTtcclxuXHR9XHJcblxyXG5cclxuXHRjbG9zZVBvcHVwKCkge1xyXG5cclxuXHRcdC8vIHRoaXMuY2xvc2VBbGwoKTtcclxuXHJcblx0XHR0aGlzLiRwb3B1cC5yZW1vdmVDbGFzcyh0aGlzLnBvcHVwQWN0aXZlQ2xhc3MpO1xyXG5cdFx0aWYgKCF0aGlzLiRwb3B1cHMuZmlsdGVyKCcuc2hvdycpLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmhpZGVCYWNrKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub25DbG9zZUNhbGxiYWNrKSB7XHJcblx0XHRcdHRoaXMub25DbG9zZUNhbGxiYWNrKCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0Y2xvc2VBbGwoKSB7XHJcblx0XHR0aGlzLiRwb3B1cHMucmVtb3ZlQ2xhc3ModGhpcy5wb3B1cEFjdGl2ZUNsYXNzKTtcclxuXHR9XHJcblxyXG5cdHNob3dCYWNrICgpIHtcclxuXHRcdHRoaXMuJGJhY2suYWRkQ2xhc3ModGhpcy5iYWNrQWN0aXZlQ2xhc3MpO1xyXG5cdH1cclxuXHJcblx0aGlkZUJhY2sgKCkge1xyXG5cdFx0dGhpcy4kYmFjay5yZW1vdmVDbGFzcyh0aGlzLmJhY2tBY3RpdmVDbGFzcyk7XHJcblx0fVxyXG5cclxuXHRnZXRMZWZ0ICgpIHtcclxuXHRcdGxldCBsZWZ0ID0gcGFyc2VJbnQodGhpcy4kYm9keS5vdXRlcldpZHRoKCkpIC8gMiAtIHRoaXMuJHBvcHVwLm91dGVyV2lkdGgoKSAvIDI7XHJcblx0XHR0aGlzLiRwb3B1cC5jc3MoJ2xlZnQnLCBgJHtsZWZ0fXB4YCk7XHJcblx0fVxyXG5cdGdldFRvcCAoKSB7XHJcblx0XHRsZXQgdG9wID0gdGhpcy4kYm9keS5zY3JvbGxUb3AoKSArIDIwO1xyXG5cdFx0Ly8gbGV0IHRvcCA9IHBhcnNlSW50KHRoaXMuJGJvZHkub3V0ZXJIZWlnaHQoKSkgLyAyIC0gdGhpcy4kcG9wdXAub3V0ZXJIZWlnaHQoKSAvIDI7XHJcblx0XHR0aGlzLiRwb3B1cC5jc3MoJ3RvcCcsIGAke3RvcH1weGApO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcblxyXG5cclxuIl19"}