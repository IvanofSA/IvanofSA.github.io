{"version":3,"sources":["node_modules/browser-pack/_prelude.js","sources/js/main.js","sources/js/modules/popup.js"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Popup from './modules/popup';\r\nconst popups = {};\r\n\r\n$(function () {\r\n    if ($('.js-slider').length) {\r\n        $('.js-slider').slick({\r\n            infinite: true,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            prevArrow: '<div class=\"slick-arrow slick-prev\"></div>',\r\n            nextArrow: '<div class=\"slick-arrow slick-next\"></div>'\r\n        });\r\n    }\r\n    if ($('.js-slider_vert').length) {\r\n\r\n        $('.js-slider_vert').slick({\r\n            infinite: true,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            arrows: false,\r\n            // vertical: true,\r\n            autoplay: true,\r\n            autoplaySpeed: 2000\r\n            // prevArrow: '<div class=\"slick-arrow slick-prev\"></div>',\r\n            // nextArrow: '<div class=\"slick-arrow slick-next\"></div>'\r\n        });\r\n    }\r\n    \r\n\r\n    var options = {\r\n        id: 61042406,\r\n        loop: true\r\n    };\r\n    //\r\n\r\n    let video = $(\"#video\");\r\n    let playBtn = $('.play');\r\n    if (video.length) {\r\n        var player = new Vimeo.Player(video, options);\r\n    }\r\n\r\n\r\n    playBtn.on('click', function (e) {\r\n        e.preventDefault();\r\n        let preview = $(this).parent('.preview'),\r\n            video = preview.siblings('.video__vimeohttps');\r\n\r\n        if (preview) {\r\n            preview.addClass('hide');\r\n            video.removeClass('hide').addClass('show');\r\n\r\n            player.play();\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n\r\n    //ToDO Переделать в полноценный модуль\r\n\r\n    let tab = {\r\n        $openBtn: $('.js-open-tab'),\r\n        $tabParent: $('.js-open-tab h3'),\r\n\r\n        open(target, index){\r\n\r\n            if (target == 'next') {\r\n\r\n                if (index >= this.lengthBlocks) {\r\n                    this.$tabParent.eq(0).addClass('open');\r\n                } else {\r\n                    this.$tabParent.eq(index).addClass('open');\r\n                }\r\n            } else {\r\n                target.closest('.js-open-tab').addClass('open');\r\n            }\r\n        },\r\n\r\n        close(){\r\n            this.$openBtn.removeClass('open');\r\n        },\r\n\r\n        controller(){\r\n            let that = this;\r\n            $('body').on('click', '.js-open-tab', function (e) {\r\n                if (e.target.tagName == 'H3' || e.target.tagName == 'SPAN') {\r\n\r\n                    if ($(this).hasClass('doctor__wrap')) {\r\n                        let doctorId = $(this).attr('data-doctor-id');\r\n                        let doctorInfo = '';\r\n                        $.ajax({\r\n                            url: 'doctor-info.json',\r\n                            // type: form.attr('method'),\r\n                            // url: form.attr('action'),\r\n                            // dataType: 'json',\r\n                            // data: data,\r\n\r\n                            success: function (data) {\r\n                                function parseArr(arr) {\r\n\r\n                                    if (Array.isArray(arr)) {\r\n                                        for (let i = 0; i < arr.length; i++) {\r\n                                            var specTr = (specTr ? specTr : '') + '' + arr[i] + '<br/>';\r\n                                        }\r\n                                        return specTr;\r\n                                    } else {\r\n                                        return arr;\r\n                                    }\r\n                                }\r\n\r\n                                console.log(data);\r\n\r\n                                let certif = data.certificates;\r\n                                let containerDoctorInfo = $('.doctor__content');\r\n\r\n                                containerDoctorInfo.html('');\r\n\r\n                                for (let i = 0; i < certif.length; i++) {\r\n                                    // console.log(certif[i].text);\r\n                                    var certifHtml = (certifHtml ? certifHtml : '') + '<li>' + (certif[i].icon ? '<div class=\"doctor__sertificat doctor__sertificat_icon js_popup_sert\"><img src=\"' + certif[i].icon + '\" alt=\"\"></div>' : '') + (certif[i].text ? '<div class=\"doctor__sertificat doctor__sertificat_text\">' + certif[i].text + '</div>' : '') + (certif[i].image ? '<div class=\"doctor__sertificat_img\"><img class=\"img_big\" src=\"' + certif[i].image + '\" alt=\"\"></div>' : '') + '</li>';\r\n                                }\r\n\r\n\r\n                                doctorInfo = '<div class=\"doctor__content_title\">' +\r\n                                    '<span>' + data.name + '</span>' +\r\n                                    '</div>' +\r\n                                    '<div class=\"doctor__content_left\">' +\r\n                                    '<div class=\"doctor__content_foto\">' +\r\n                                    '<img src=' + data.photo + ' alt=\"\"></div>' +\r\n                                    '</div>' +\r\n                                    '<div class=\"doctor__content_right\">' +\r\n                                    '<table><tbody>' +\r\n                                    '<tr><th>Клиника:</th><td>' + data.department + '</td></tr>' +\r\n\r\n                                    '<tr><th>Отделение:</th><td>' + parseArr(data.position) + '</td></tr>' +\r\n                                    '<tr><th>Специализация:</th><td>' + parseArr(data.specialization) + '</td></tr>' +\r\n                                    '<tr><th>Учёная степень:</th><td>' + parseArr(data.department) + '</td></tr>' +\r\n                                    '<tr><th>Образование:</th><td>' + parseArr(data.education) + '</td></tr>' +\r\n                                    '<tr><th>Врачебный стаж:</th><td>' + parseArr(data.worktime) + '</td></tr>' +\r\n                                    '<tr><th>Языки консультаций:</th><td>' + parseArr(data.languages) + '</td></tr>' +\r\n                                    '<tr><th>Сертификаты:</th><td>' +\r\n                                    '<ul>' + certifHtml + '</ul></td></tr>' +\r\n                                    '<tr><th>Публикации:</th><td>' + parseArr(data.publications) + '</td></tr>' +\r\n                                    '<tr><th>Дополнительные<br/>сведения:</th><td>' + parseArr(data.other) + '</td></tr>' +\r\n                                    '</tbody></table></div>';\r\n\r\n\r\n                                containerDoctorInfo.append(doctorInfo);\r\n                                doctorInfo = '';\r\n                            },\r\n                            error: function (error) {\r\n                                // console.log(error);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n\r\n                    let checkContent = $(this).children('.doctor__content'),\r\n                        checkParagraf = $(this).children('p');\r\n\r\n                    if (checkContent.length || checkParagraf.length) {\r\n                        if ($(this).hasClass('open')) {\r\n                            $(this).removeClass('open');\r\n                        } else {\r\n                            let currentIndex = that.$tabParent.index(parent);\r\n                            if (that.$tabParent.hasClass('open')) {\r\n                                that.close();\r\n                                that.open('next', ++currentIndex);\r\n                            } else {\r\n                                that.close();\r\n                                that.open($(this));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            });\r\n        },\r\n\r\n        init(){\r\n            this.controller();\r\n        }\r\n    };\r\n    tab.init();\r\n\r\n\r\n    let SertifPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_sertificat',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        // closeButtonsSelector: '.popup__close-button, .js-bad-answer-close',\r\n        customOpen: function ($elem) {\r\n            this.$popup.find('.popup__img img').attr('src', $elem);\r\n            this.openPopup();\r\n        }\r\n    });\r\n    popups.SertifPopup = SertifPopup;\r\n\r\n\r\n    $('.popup__close-button').on('click', (e) => {\r\n        e.preventDefault();\r\n        let popup = $(this).parent('.popup');\r\n        popup.removeClass('show');\r\n    });\r\n\r\n    $('body').on('click', '.js_popup_sert', function () {\r\n        var $img = $(this).siblings('.doctor__sertificat_img'),\r\n            $src = $img.find('img').attr('src');\r\n        SertifPopup.customOpen($src);\r\n        // popups.SertifPopup.openPopup();\r\n    });\r\n\r\n    $('.popup__back').on('click', () => {\r\n\r\n        let $body = $('body');\r\n        $body.css('overflow', 'auto');\r\n        if ($body.find('.popup').filter('.show').length == '1') {\r\n            $body.find('.popup').filter('.show').removeClass('show');\r\n            $body.find('.popup__back').filter('.show').removeClass('show');\r\n            $(this).removeClass('show');\r\n        } else {\r\n            $body.find('.popup').filter('.show').last().removeClass('show');\r\n        }\r\n    });\r\n\r\n    let loginPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_login',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        closeButtonsSelector: '.popup__close-button, .js-bad-answer-close'\r\n    });\r\n    popups.loginPopup = loginPopup;\r\n\r\n    $('.js-login').on('click', function (e) {\r\n        e.preventDefault();\r\n        popups.loginPopup.openPopup();\r\n    });\r\n\r\n\r\n    $('select').on('change', function (e) {\r\n\r\n        var form = $(this.form);\r\n        var formId = form.attr('id');\r\n        var formType = form.data('form-type');\r\n        // var formType = form.data('form-type');\r\n        var data = form.serialize();\r\n        var container = $('.container');\r\n        var countryWrap = container.find('.counrty__wrap');\r\n\r\n\r\n        if (formType == \"ajax\") {\r\n            \r\n            $.ajax({\r\n                // url: 'price.json',\r\n                // url: 'contacts.json',\r\n                // type: form.attr('method'),\r\n                url: form.attr('action'),\r\n                // dataType: 'json',\r\n                // data: data,\r\n\r\n                success: function (data) {\r\n\r\n                    if (formId == 'filterContact') {\r\n                        $('.contacts__connection_list').html('');\r\n\r\n                        data.clinics.forEach(function (el) {\r\n\r\n                            var itemAdress = (itemAdress ? itemAdress : '') + '<li class=\"contacts__connection_item\">' +\r\n                                '<ul>' +\r\n                                '<li class=\"contacts__connection_adress\"><span>' + el.name + '</span></li>' +\r\n                                '<li class=\"contacts__connection_phone\"><span>' + el.phones + '</span></li>' +\r\n                                '<li class=\"contacts__connection_site\">' +\r\n                                '<a href=\"' + el.web + '\">' + el.web + '</a></li>' +\r\n                                '<li class=\"contacts__connection_mail\">' +\r\n                                '<a href=\"mailto:' + el.email + '\">' + el.email + '</a></li>' +\r\n                                '</ul></li>';\r\n\r\n                            $('.contacts__connection_list').append(itemAdress);\r\n\r\n                        });\r\n\r\n\r\n                    } else {\r\n                        countryWrap.html('');\r\n                        data.forEach(function (el) {\r\n                            var clinicClass = '',\r\n                                clinicArr,\r\n                                doctorsHtml = '',\r\n                                priceContainerHtml = '',\r\n                                priceHtml = '';\r\n\r\n                            if (formId == 'filterDoctor') {\r\n                                clinicClass = 'doctor';\r\n                                clinicArr = el.clinics;\r\n\r\n                                for (let i = 0; i < clinicArr.length; i++) {\r\n                                    var doctorsArr = clinicArr[i].doctors;\r\n                                    for (let k = 0; k < doctorsArr.length; k++) {\r\n\r\n                                        doctorsHtml += '<div class=\"doctor__wrap js-open-tab\" data-doccor-id=\"' + doctorsArr[k].id + '\">' +\r\n                                            '<h3 class=\"doctor__wrap_name\">' + doctorsArr[k].name + '</h3>' +\r\n                                            '<div class=\"doctor__content\"></div></div>';\r\n                                    }\r\n                                }\r\n                                ;\r\n                            }\r\n\r\n                            if (formId == 'filterClinic') {\r\n                                clinicClass = 'clinics';\r\n                                clinicArr = el.clinics;\r\n\r\n                                for (let i = 0; i < clinicArr.length; i++) {\r\n                                    var clinicItem = clinicArr[i];\r\n                                    console.log(clinicItem);\r\n                                    var clinicLogo = clinicItem.logo ? '<img src=' + clinicItem.logo + ' alt=\"\">' : '<img src=\"/img/default_logo.png\" alt=\"\" class=\"default__img\">';\r\n                                    var clinicHtml = '<div class=\"clinics__clinic_name counrty__clinic_name\">' +\r\n                                        '<div class=\"counrty__clinic_left\">' + clinicLogo + '</div>' +\r\n                                        '<div class=\"counrty__clinic_right\"><span>' + clinicItem.name + '</span>' +\r\n                                        '<em>' + clinicItem.about + '</em></div></div>';\r\n\r\n                                }\r\n                            }\r\n\r\n\r\n                            if (formId == 'filterPrice') {\r\n                                clinicClass = 'price';\r\n                                clinicArr = el.clinics;\r\n                                for (let i = 0; i < clinicArr.length; i++) {\r\n\r\n                                    if (clinicArr[i].doctors) {\r\n                                        var doctorPriceDefault = '<div class=\"price__decription_text\">*Стоимость консультации у перечисленных ниже докторов может<br/>отличаться от стоимости консультации клиники</div>';\r\n                                        var doctorPriceInfo = '';\r\n\r\n                                        for (let k = 0; k < clinicArr[i].doctors.length; k++) {\r\n                                            let doctorItem = clinicArr[i].doctors[k];\r\n\r\n                                            doctorPriceInfo += '<div class=\"price__item\">' +\r\n                                                '<span class=\"price__prop js_doctor-info\">' + doctorItem.name + '</span>' +\r\n                                                '<div class=\"price__dots\"></div>' +\r\n                                                '<span class=\"price__value\">' + doctorItem.cost + '</span></div>';\r\n\r\n                                            var doctorsList = '<div class=\"price__list price__list_doctors\" data-id=\"' + doctorItem.id + '\">' + doctorPriceInfo + '</div>'\r\n                                        }\r\n                                    }\r\n\r\n                                    priceHtml += '<div class=\"price__item\">' +\r\n                                        '<span class=\"price__prop\">Стоимость консультации</span>' +\r\n                                        '<div class=\"price__dots\"></div>' +\r\n                                        '<span class=\"price__value\">' + clinicArr[i].cost + ' ' + el.currency + '</span> ' +\r\n                                        '</div>';\r\n\r\n                                    priceContainerHtml = '<div class=\"price__list\"> ' + priceHtml + '</div>' + ((clinicArr[i].doctors) ? doctorPriceDefault + doctorsList : '');\r\n                                }\r\n                                ;\r\n\r\n                            }\r\n\r\n                            for (let i = 0; i < clinicArr.length; i++) {\r\n                                var clinicItem = clinicArr[i];\r\n\r\n                                if (clinicClass == 'doctor') {\r\n                                    clinicItem = clinicArr[i].clinic;\r\n                                }\r\n\r\n                                var clinicLogo = clinicItem.logo ? '<img src=' + clinicItem.logo + ' alt=\"\">' : '<img src=\"/img/default_logo.png\" alt=\"\" class=\"default__img\">';\r\n                                var clinicsHtml = '<div class=\"' + clinicClass + '__clinic counrty__clinic\">' +\r\n                                    '<div class=\"' + clinicClass + '__clinic_name counrty__clinic_name\">' +\r\n                                    '<span>' + clinicItem.name + '</span>' +\r\n                                    '<em>' + clinicItem.about + '</em>' + clinicLogo +\r\n                                    '</div>' + (priceContainerHtml ? priceContainerHtml : '') + '</div>';\r\n\r\n                            }\r\n                            if (clinicClass == 'clinics') {\r\n                                countryWrap.append('<div class=\"' + clinicClass + '__country counrty__clinic\">' +\r\n                                    '<h3>' + el.country + '</h3>' + clinicHtml + '' + (doctorsHtml ? doctorsHtml : '') + '</div>'\r\n                                );\r\n                            } else {\r\n                                countryWrap.append('<div class=\"' + clinicClass + '__country counrty\">' +\r\n                                    '<h3>' + el.country + '</h3>' + clinicsHtml + '' + (doctorsHtml ? doctorsHtml : '') + '</div>'\r\n                                );\r\n                            }\r\n\r\n\r\n                        });\r\n                    }\r\n                },\r\n                error: function (error) {\r\n                    console.log(error);\r\n                }\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    $('.js-show-attention').on('click', function (e) {\r\n        e.preventDefault();\r\n        console.log();\r\n\r\n\r\n        let attentionBlock = $('.contacts__connection');\r\n        attentionBlock.toggleClass('hide');\r\n    });\r\n\r\n\r\n    let doctorInfoPopup = new Popup({\r\n        backSelector: '.popup__back',\r\n        popupsSelector: '.popup',\r\n        popupSelector: '.popup_doctor-info',\r\n        popupActiveClass: 'show',\r\n        backActiveClass: 'show',\r\n        closeButtonsSelector: '.popup__close-button, .js-bad-answer-close',\r\n        customOpen: function ($elem) {\r\n            let container = this.$popup.find('.doctor-info');\r\n            container.html('');\r\n            container.append($elem);\r\n            this.openPopup();\r\n        }\r\n    });\r\n    popups.doctorInfoPopup = doctorInfoPopup;\r\n\r\n\r\n    $('body').on('click', '.js_doctor-info', function () {\r\n\r\n        let idDoctor = $(this).data('id');\r\n        let doctorInfo = '';\r\n        console.log('asdasd');\r\n\r\n        $.ajax({\r\n            url: 'doctor-info.json',\r\n            // url: 'contacts.json',\r\n            // type: 'POST',\r\n            // url: form.attr('action'),\r\n            // dataType: 'json',\r\n            // data: 'doctorID': idDoctor,\r\n\r\n            success: function (data) {\r\n                function parseArr(arr) {\r\n                    if (Array.isArray(arr)) {\r\n                        for (let i = 0; i < arr.length; i++) {\r\n                            var specTr = (specTr ? specTr : '') + '' + arr[i] + '<br/>';\r\n                        }\r\n                        return specTr;\r\n                    } else {\r\n                        return arr;\r\n                    }\r\n                }\r\n\r\n                let certif = data.certificates;\r\n                let containerDoctorInfo = $('.doctor__content');\r\n\r\n                containerDoctorInfo.html('');\r\n\r\n                for (let i = 0; i < certif.length; i++) {\r\n                    // console.log(certif[i].text);\r\n                    var certifHtml = (certifHtml ? certifHtml : '') + '<tr><th>' + (certif[i].icon ? '<div class=\"doctor__sertificat doctor__sertificat_icon js_popup_sert\"><img src=\"' + certif[i].icon + '\" alt=\"\"></div>' : '') + (certif[i].image ? '<div class=\"doctor__sertificat_img\"><img class=\"img_big\" src=\"' + certif[i].image + '\" alt=\"\"></div>' : '') + '</th><td>' + (certif[i].text ? '<div class=\"doctor__sertificat doctor__sertificat_text\">' + certif[i].text + '</div>' : '') + '</td></tr>';\r\n                }\r\n\r\n\r\n                doctorInfo = '<div class=\"doctor-info__name\">' + data.name +\r\n                    '</div>' +\r\n                    '<div class=\"doctor-info__left\">' +\r\n                    '<div class=\"doctor-info__foto\">' +\r\n                    '<img src=' + data.photo + ' alt=\"\"></div>' +\r\n                    '<a href=\"\" class=\"doctor-info__btn btn\">Оставить заявку <br/> на консультацию</a>' +\r\n                    '</div>' +\r\n                    '<div class=\"doctor-info__right\">' +\r\n                    '<div class=\"doctor-info__content\">' +\r\n                    '<table><tbody>' +\r\n                    '<tr><th>Клиника:</th><td>' + data.department + '</td></tr>' +\r\n\r\n                    '<tr><th>Отделение:</th><td>' + parseArr(data.position) + '</td></tr>' +\r\n                    '<tr><th>Специализация:</th><td>' + parseArr(data.specialization) + '</td></tr>' +\r\n                    '<tr><th>Учёная степень:</th><td>' + parseArr(data.department) + '</td></tr>' +\r\n                    '<tr><th>Образование:</th><td>' + parseArr(data.education) + '</td></tr>' +\r\n                    '<tr><th>Врачебный стаж:</th><td>' + parseArr(data.worktime) + '</td></tr>' +\r\n                    '<tr><th>Языки консультаций:</th><td>' + parseArr(data.languages) + '</td></tr>' +\r\n                    '<tr><th>Сертификаты:</th></th><tr>' + certifHtml +\r\n                    '<tr><th>Публикации:</th><td>' + parseArr(data.publications) + '</td></tr>' +\r\n                    '<tr><th>Дополнительные<br/>сведения:</th><td>' + parseArr(data.other) + '</td></tr>' +\r\n                    '</tbody></table></div></div>';\r\n\r\n                doctorInfoPopup.customOpen(doctorInfo);\r\n                doctorInfo = '';\r\n            },\r\n            error: function (error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n    });\r\n\r\n});","class Popup {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.$body = $('body');\r\n\t\tthis.$back = $(data.backSelector);\r\n\t\tthis.$popups = $(data.popupsSelector);\r\n\t\tthis.popupSelector = data.popupSelector;\r\n\t\tthis.$popup = this.$popups.filter(data.popupSelector);\r\n\t\tthis.popupActiveClass = data.popupActiveClass;\r\n\t\tthis.backActiveClass = data.backActiveClass;\r\n\t\tthis.closeButtonsSelector = data.closeButtonsSelector;\r\n\t\tthis.openButtonsSelector = data.openButtonsSelector;\r\n\t\tthis.isCloseAllWhenOpen = data.isCloseAllWhenOpen || true;\r\n\t\tthis.onResizeCallback = (typeof data.onResizeCallback == \"function\") ? data.onResizeCallback : '' ;\r\n\t\tthis.onCloseCallback = (typeof data.onCloseCallback == \"function\") ? data.onCloseCallback : '' ;\r\n\t\tthis.customOpen = (typeof data.customOpen == \"function\") ? data.customOpen : '' ;\r\n\r\n\t\tthis.addEventListners();\r\n\t}\r\n\r\n\taddEventListners ()  {\r\n\t\t$(this.openButtonsSelector).on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.openPopup();\r\n\t\t});\r\n\t\tthis.$popup.on('click', this.closeButtonsSelector, () => {\r\n\t\t\tthis.closePopup();\r\n\t\t});\r\n\t\t$(window).on('resize', () => {\r\n\t\t\tthis.$popup.css('left', '0');\r\n\r\n\t\t\tif (this.$popup.hasClass(this.popupActiveClass)) {\r\n\r\n\t\t\t\tthis.getLeft();\r\n\t\t\t\tthis.getTop ();\r\n\r\n\t\t\t\tif (this.onResizeCallback) {\r\n\t\t\t\t\tthis.onResizeCallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\topenPopup () {\r\n\t\tthis.$popup.css('top', '-20px');\r\n\t\tthis.showBack();\r\n\t\tthis.getLeft();\r\n\t\tthis.getTop ();\r\n\t\tthis.$popup.addClass(this.popupActiveClass);\r\n        this.$body.css('overflow', 'hidden');\r\n\t}\r\n\r\n\r\n\tclosePopup() {\r\n\r\n\t\t// this.closeAll();\r\n        this.$body.css('overflow', 'auto');\r\n\r\n\t\tthis.$popup.removeClass(this.popupActiveClass);\r\n\t\tif (!this.$popups.filter('.show').length) {\r\n\t\t\tthis.hideBack();\r\n\t\t}\r\n\r\n\t\tif (this.onCloseCallback) {\r\n\t\t\tthis.onCloseCallback();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcloseAll() {\r\n        this.$body.css('overflow', 'auto');\r\n        this.$popups.removeClass(this.popupActiveClass);\r\n\t}\r\n\r\n\tshowBack () {\r\n\t\tthis.$back.addClass(this.backActiveClass);\r\n\t}\r\n\r\n\thideBack () {\r\n        this.$body.css('overflow', 'auto');\r\n\r\n        this.$back.removeClass(this.backActiveClass);\r\n\t}\r\n\r\n\tgetLeft () {\r\n\t\tlet left = parseInt(this.$body.outerWidth()) / 2 - this.$popup.outerWidth() / 2;\r\n\t\tthis.$popup.css('left', `${left}px`);\r\n\t}\r\n\tgetTop () {\r\n\t\tlet top = $('html,body').scrollTop() + 20;\r\n\t\t// let top = parseInt(this.$body.outerHeight()) / 2 - this.$popup.outerHeight() / 2;\r\n\t\tthis.$popup.css('top', `${top}px`);\r\n\t}\r\n}\r\n\r\nexport default Popup;\r\n\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2VzXFxqc1xcbWFpbi5qcyIsInNvdXJjZXNcXGpzXFxtb2R1bGVzXFxwb3B1cC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQUNBLElBQU0sU0FBUyxFQUFmOztBQUVBLEVBQUUsWUFBWTtBQUFBOztBQUNWLFFBQUksRUFBRSxZQUFGLEVBQWdCLE1BQXBCLEVBQTRCO0FBQ3hCLFVBQUUsWUFBRixFQUFnQixLQUFoQixDQUFzQjtBQUNsQixzQkFBVSxJQURRO0FBRWxCLDBCQUFjLENBRkk7QUFHbEIsNEJBQWdCLENBSEU7QUFJbEIsdUJBQVcsNENBSk87QUFLbEIsdUJBQVc7QUFMTyxTQUF0QjtBQU9IO0FBQ0QsUUFBSSxFQUFFLGlCQUFGLEVBQXFCLE1BQXpCLEVBQWlDOztBQUU3QixVQUFFLGlCQUFGLEVBQXFCLEtBQXJCLENBQTJCO0FBQ3ZCLHNCQUFVLElBRGE7QUFFdkIsMEJBQWMsQ0FGUztBQUd2Qiw0QkFBZ0IsQ0FITztBQUl2QixvQkFBUSxLQUplO0FBS3ZCO0FBQ0Esc0JBQVUsSUFOYTtBQU92QiwyQkFBZTtBQUNmO0FBQ0E7QUFUdUIsU0FBM0I7QUFXSDs7QUFHRCxRQUFJLFVBQVU7QUFDVixZQUFJLFFBRE07QUFFVixjQUFNO0FBRkksS0FBZDtBQUlBOztBQUVBLFFBQUksUUFBUSxFQUFFLFFBQUYsQ0FBWjtBQUNBLFFBQUksVUFBVSxFQUFFLE9BQUYsQ0FBZDtBQUNBLFFBQUksTUFBTSxNQUFWLEVBQWtCO0FBQ2QsWUFBSSxTQUFTLElBQUksTUFBTSxNQUFWLENBQWlCLEtBQWpCLEVBQXdCLE9BQXhCLENBQWI7QUFDSDs7QUFHRCxZQUFRLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFVBQVUsQ0FBVixFQUFhO0FBQzdCLFVBQUUsY0FBRjtBQUNBLFlBQUksVUFBVSxFQUFFLElBQUYsRUFBUSxNQUFSLENBQWUsVUFBZixDQUFkO0FB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LEVBQVQsSUFBb0MsQ0FBcEMsR0FBd0MsS0FBSyxNQUFMLENBQVksVUFBWixLQUEyQixDQUE5RTtBQUNBLFFBQUssTUFBTCxDQUFZLEdBQVosQ0FBZ0IsTUFBaEIsRUFBMkIsSUFBM0I7QUFDQTs7OzJCQUNTO0FBQ1QsT0FBSSxNQUFNLEVBQUUsV0FBRixFQUFlLFNBQWYsS0FBNkIsRUFBdkM7QUFDQTtBQUNBLFFBQUssTUFBTCxDQUFZLEdBQVosQ0FBZ0IsS0FBaEIsRUFBMEIsR0FBMUI7QUFDQTs7Ozs7O2tCQUdhLEsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vbW9kdWxlcy9wb3B1cCc7XHJcbmNvbnN0IHBvcHVwcyA9IHt9O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnLmpzLXNsaWRlcicpLmxlbmd0aCkge1xyXG4gICAgICAgICQoJy5qcy1zbGlkZXInKS5zbGljayh7XHJcbiAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgICAgICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stcHJldlwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1uZXh0XCI+PC9kaXY+J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCQoJy5qcy1zbGlkZXJfdmVydCcpLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAkKCcuanMtc2xpZGVyX3ZlcnQnKS5zbGljayh7XHJcbiAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAvLyB2ZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDIwMDBcclxuICAgICAgICAgICAgLy8gcHJldkFycm93OiAnPGRpdiBjbGFzcz1cInNsaWNrLWFycm93IHNsaWNrLXByZXZcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAvLyBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwic2xpY2stYXJyb3cgc2xpY2stbmV4dFwiPjwvZGl2PidcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgIGlkOiA2MTA0MjQwNixcclxuICAgICAgICBsb29wOiB0cnVlXHJcbiAgICB9O1xyXG4gICAgLy9cclxuXHJcbiAgICBsZXQgdmlkZW8gPSAkKFwiI3ZpZGVvXCIpO1xyXG4gICAgbGV0IHBsYXlCdG4gPSAkKCcucGxheScpO1xyXG4gICAgaWYgKHZpZGVvLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIgPSBuZXcgVmltZW8uUGxheWVyKHZpZGVvLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcGxheUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgcHJldmlldyA9ICQodGhpcykucGFyZW50KCcucHJldmlldycpLFxyXG4gICAgICAgICAgICB2aWRlbyA9IHByZXZpZXcuc2libGluZ3MoJy52aWRlb19fdmltZW9odHRwcycpO1xyXG5cclxuICAgICAgICBpZiAocHJldmlldykge1xyXG4gICAgICAgICAgICBwcmV2aWV3LmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUNsYXNzKCdoaWRlJykuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuXHJcbiAgICAgICAgICAgIHBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy9Ub0RPINCf0LXRgNC10LTQtdC70LDRgtGMINCyINC/0L7Qu9C90L7RhtC10L3QvdGL0Lkg0LzQvtC00YPQu9GMXHJcblxyXG4gICAgbGV0IHRhYiA9IHtcclxuICAgICAgICAkb3BlbkJ0bjogJCgnLmpzLW9wZW4tdGFiJyksXHJcbiAgICAgICAgJHRhYlBhcmVudDogJCgnLmpzLW9wZW4tdGFiIGgzJyksXHJcblxyXG4gICAgICAgIG9wZW4odGFyZ2V0LCBpbmRleCl7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09ICduZXh0Jykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSB0aGlzLmxlbmd0aEJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRhYlBhcmVudC5lcSgwKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0YWJQYXJlbnQuZXEoaW5kZXgpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xvc2VzdCgnLmpzLW9wZW4tdGFiJykuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsb3NlKCl7XHJcbiAgICAgICAgICAgIHRoaXMuJG9wZW5CdG4ucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjb250cm9sbGVyKCl7XHJcbiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuanMtb3Blbi10YWInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT0gJ0gzJyB8fCBlLnRhcmdldC50YWdOYW1lID09ICdTUEFOJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZG9jdG9yX193cmFwJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3RvcklkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWRvY3Rvci1pZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jdG9ySW5mbyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnZG9jdG9yLWluZm8uanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0eXBlOiBmb3JtLmF0dHIoJ21ldGhvZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGE6IGRhdGEsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBwYXJzZUFycihhcnIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwZWNUciA9IChzcGVjVHIgPyBzcGVjVHIgOiAnJykgKyAnJyArIGFycltpXSArICc8YnIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BlY1RyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZXJ0aWYgPSBkYXRhLmNlcnRpZmljYXRlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGFpbmVyRG9jdG9ySW5mbyA9ICQoJy5kb2N0b3JfX2NvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRG9jdG9ySW5mby5odG1sKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZXJ0aWYubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2VydGlmW2ldLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VydGlmSHRtbCA9IChjZXJ0aWZIdG1sID8gY2VydGlmSHRtbCA6ICcnKSArICc8bGk+JyArIChjZXJ0aWZbaV0uaWNvbiA/ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19zZXJ0aWZpY2F0IGRvY3Rvcl9fc2VydGlmaWNhdF9pY29uIGpzX3BvcHVwX3NlcnRcIj48aW1nIHNyYz1cIicgKyBjZXJ0aWZbaV0uaWNvbiArICdcIiBhbHQ9XCJcIj48L2Rpdj4nIDogJycpICsgKGNlcnRpZltpXS50ZXh0ID8gJzxkaXYgY2xhc3M9XCJkb2N0b3JfX3NlcnRpZmljYXQgZG9jdG9yX19zZXJ0aWZpY2F0X3RleHRcIj4nICsgY2VydGlmW2ldLnRleHQgKyAnPC9kaXY+JyA6ICcnKSArIChjZXJ0aWZbaV0uaW1hZ2UgPyAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fc2VydGlmaWNhdF9pbWdcIj48aW1nIGNsYXNzPVwiaW1nX2JpZ1wiIHNyYz1cIicgKyBjZXJ0aWZbaV0uaW1hZ2UgKyAnXCIgYWx0PVwiXCI+PC9kaXY+JyA6ICcnKSArICc8L2xpPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdG9ySW5mbyA9ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19jb250ZW50X3RpdGxlXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3Bhbj4nICsgZGF0YS5uYW1lICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudF9sZWZ0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19jb250ZW50X2ZvdG9cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPScgKyBkYXRhLnBob3RvICsgJyBhbHQ9XCJcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fY29udGVudF9yaWdodFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRhYmxlPjx0Ym9keT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0JrQu9C40L3QuNC60LA6PC90aD48dGQ+JyArIGRhdGEuZGVwYXJ0bWVudCArICc8L3RkPjwvdHI+JyArXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QntGC0LTQtdC70LXQvdC40LU6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEucG9zaXRpb24pICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0KHQv9C10YbQuNCw0LvQuNC30LDRhtC40Y86PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEuc3BlY2lhbGl6YXRpb24pICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0KPRh9GR0L3QsNGPINGB0YLQtdC/0LXQvdGMOjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLmRlcGFydG1lbnQpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J7QsdGA0LDQt9C+0LLQsNC90LjQtTo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5lZHVjYXRpb24pICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0JLRgNCw0YfQtdCx0L3Ri9C5INGB0YLQsNC2OjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLndvcmt0aW1lKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCv0LfRi9C60Lgg0LrQvtC90YHRg9C70YzRgtCw0YbQuNC5OjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLmxhbmd1YWdlcykgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QodC10YDRgtC40YTQuNC60LDRgtGLOjwvdGg+PHRkPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHVsPicgKyBjZXJ0aWZIdG1sICsgJzwvdWw+PC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7Qn9GD0LHQu9C40LrQsNGG0LjQuDo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5wdWJsaWNhdGlvbnMpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtTxici8+0YHQstC10LTQtdC90LjRjzo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5vdGhlcikgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC90Ym9keT48L3RhYmxlPjwvZGl2Pic7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJEb2N0b3JJbmZvLmFwcGVuZChkb2N0b3JJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N0b3JJbmZvID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrQ29udGVudCA9ICQodGhpcykuY2hpbGRyZW4oJy5kb2N0b3JfX2NvbnRlbnQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYXJhZ3JhZiA9ICQodGhpcykuY2hpbGRyZW4oJ3AnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrQ29udGVudC5sZW5ndGggfHwgY2hlY2tQYXJhZ3JhZi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IHRoYXQuJHRhYlBhcmVudC5pbmRleChwYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuJHRhYlBhcmVudC5oYXNDbGFzcygnb3BlbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQub3BlbignbmV4dCcsICsrY3VycmVudEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQub3BlbigkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbml0KCl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0YWIuaW5pdCgpO1xyXG5cclxuXHJcbiAgICBsZXQgU2VydGlmUG9wdXAgPSBuZXcgUG9wdXAoe1xyXG4gICAgICAgIGJhY2tTZWxlY3RvcjogJy5wb3B1cF9fYmFjaycsXHJcbiAgICAgICAgcG9wdXBzU2VsZWN0b3I6ICcucG9wdXAnLFxyXG4gICAgICAgIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfc2VydGlmaWNhdCcsXHJcbiAgICAgICAgcG9wdXBBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIGJhY2tBY3RpdmVDbGFzczogJ3Nob3cnLFxyXG4gICAgICAgIC8vIGNsb3NlQnV0dG9uc1NlbGVjdG9yOiAnLnBvcHVwX19jbG9zZS1idXR0b24sIC5qcy1iYWQtYW5zd2VyLWNsb3NlJyxcclxuICAgICAgICBjdXN0b21PcGVuOiBmdW5jdGlvbiAoJGVsZW0pIHtcclxuICAgICAgICAgICAgdGhpcy4kcG9wdXAuZmluZCgnLnBvcHVwX19pbWcgaW1nJykuYXR0cignc3JjJywgJGVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5Qb3B1cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcG9wdXBzLlNlcnRpZlBvcHVwID0gU2VydGlmUG9wdXA7XHJcblxyXG5cclxuICAgICQoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IHBvcHVwID0gJCh0aGlzKS5wYXJlbnQoJy5wb3B1cCcpO1xyXG4gICAgICAgIHBvcHVwLnJlbW92ZUNsYXNzKCdzaG93Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qc19wb3B1cF9zZXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciAkaW1nID0gJCh0aGlzKS5zaWJsaW5ncygnLmRvY3Rvcl9fc2VydGlmaWNhdF9pbWcnKSxcclxuICAgICAgICAgICAgJHNyYyA9ICRpbWcuZmluZCgnaW1nJykuYXR0cignc3JjJyk7XHJcbiAgICAgICAgU2VydGlmUG9wdXAuY3VzdG9tT3Blbigkc3JjKTtcclxuICAgICAgICAvLyBwb3B1cHMuU2VydGlmUG9wdXAub3BlblBvcHVwKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcucG9wdXBfX2JhY2snKS5vbignY2xpY2snLCAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgICAkYm9keS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcclxuICAgICAgICBpZiAoJGJvZHkuZmluZCgnLnBvcHVwJykuZmlsdGVyKCcuc2hvdycpLmxlbmd0aCA9PSAnMScpIHtcclxuICAgICAgICAgICAgJGJvZHkuZmluZCgnLnBvcHVwJykuZmlsdGVyKCcuc2hvdycpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICRib2R5LmZpbmQoJy5wb3B1cF9fYmFjaycpLmZpbHRlcignLnNob3cnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGJvZHkuZmluZCgnLnBvcHVwJykuZmlsdGVyKCcuc2hvdycpLmxhc3QoKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBsb2dpblBvcHVwID0gbmV3IFBvcHVwKHtcclxuICAgICAgICBiYWNrU2VsZWN0b3I6ICcucG9wdXBfX2JhY2snLFxyXG4gICAgICAgIHBvcHVwc1NlbGVjdG9yOiAnLnBvcHVwJyxcclxuICAgICAgICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX2xvZ2luJyxcclxuICAgICAgICBwb3B1cEFjdGl2ZUNsYXNzOiAnc2hvdycsXHJcbiAgICAgICAgYmFja0FjdGl2ZUNsYXNzOiAnc2hvdycsXHJcbiAgICAgICAgY2xvc2VCdXR0b25zU2VsZWN0b3I6ICcucG9wdXBfX2Nsb3NlLWJ1dHRvbiwgLmpzLWJhZC1hbnN3ZXItY2xvc2UnXHJcbiAgICB9KTtcclxuICAgIHBvcHVwcy5sb2dpblBvcHVwID0gbG9naW5Qb3B1cDtcclxuXHJcbiAgICAkKCcuanMtbG9naW4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBwb3B1cHMubG9naW5Qb3B1cC5vcGVuUG9wdXAoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAkKCdzZWxlY3QnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgdmFyIGZvcm0gPSAkKHRoaXMuZm9ybSk7XHJcbiAgICAgICAgdmFyIGZvcm1JZCA9IGZvcm0uYXR0cignaWQnKTtcclxuICAgICAgICB2YXIgZm9ybVR5cGUgPSBmb3JtLmRhdGEoJ2Zvcm0tdHlwZScpO1xyXG4gICAgICAgIC8vIHZhciBmb3JtVHlwZSA9IGZvcm0uZGF0YSgnZm9ybS10eXBlJyk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSAkKCcuY29udGFpbmVyJyk7XHJcbiAgICAgICAgdmFyIGNvdW50cnlXcmFwID0gY29udGFpbmVyLmZpbmQoJy5jb3VucnR5X193cmFwJyk7XHJcblxyXG5cclxuICAgICAgICBpZiAoZm9ybVR5cGUgPT0gXCJhamF4XCIpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAvLyB1cmw6ICdwcmljZS5qc29uJyxcclxuICAgICAgICAgICAgICAgIC8vIHVybDogJ2NvbnRhY3RzLmpzb24nLFxyXG4gICAgICAgICAgICAgICAgLy8gdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSxcclxuICAgICAgICAgICAgICAgIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSxcclxuICAgICAgICAgICAgICAgIC8vIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhOiBkYXRhLFxyXG5cclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSWQgPT0gJ2ZpbHRlckNvbnRhY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jb250YWN0c19fY29ubmVjdGlvbl9saXN0JykuaHRtbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNsaW5pY3MuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUFkcmVzcyA9IChpdGVtQWRyZXNzID8gaXRlbUFkcmVzcyA6ICcnKSArICc8bGkgY2xhc3M9XCJjb250YWN0c19fY29ubmVjdGlvbl9pdGVtXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx1bD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiY29udGFjdHNfX2Nvbm5lY3Rpb25fYWRyZXNzXCI+PHNwYW4+JyArIGVsLm5hbWUgKyAnPC9zcGFuPjwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImNvbnRhY3RzX19jb25uZWN0aW9uX3Bob25lXCI+PHNwYW4+JyArIGVsLnBob25lcyArICc8L3NwYW4+PC9saT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiY29udGFjdHNfX2Nvbm5lY3Rpb25fc2l0ZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YSBocmVmPVwiJyArIGVsLndlYiArICdcIj4nICsgZWwud2ViICsgJzwvYT48L2xpPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJjb250YWN0c19fY29ubmVjdGlvbl9tYWlsXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxhIGhyZWY9XCJtYWlsdG86JyArIGVsLmVtYWlsICsgJ1wiPicgKyBlbC5lbWFpbCArICc8L2E+PC9saT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC91bD48L2xpPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNvbnRhY3RzX19jb25uZWN0aW9uX2xpc3QnKS5hcHBlbmQoaXRlbUFkcmVzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnlXcmFwLmh0bWwoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpbmljQ2xhc3MgPSAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdG9yc0h0bWwgPSAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUNvbnRhaW5lckh0bWwgPSAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUh0bWwgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlkID09ICdmaWx0ZXJEb2N0b3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbmljQ2xhc3MgPSAnZG9jdG9yJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNBcnIgPSBlbC5jbGluaWNzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaW5pY0Fyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jdG9yc0FyciA9IGNsaW5pY0FycltpXS5kb2N0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGRvY3RvcnNBcnIubGVuZ3RoOyBrKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N0b3JzSHRtbCArPSAnPGRpdiBjbGFzcz1cImRvY3Rvcl9fd3JhcCBqcy1vcGVuLXRhYlwiIGRhdGEtZG9jY29yLWlkPVwiJyArIGRvY3RvcnNBcnJba10uaWQgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMyBjbGFzcz1cImRvY3Rvcl9fd3JhcF9uYW1lXCI+JyArIGRvY3RvcnNBcnJba10ubmFtZSArICc8L2gzPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19jb250ZW50XCI+PC9kaXY+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1JZCA9PSAnZmlsdGVyQ2xpbmljJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0NsYXNzID0gJ2NsaW5pY3MnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0FyciA9IGVsLmNsaW5pY3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpbmljQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGluaWNJdGVtID0gY2xpbmljQXJyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjbGluaWNJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY0xvZ28gPSBjbGluaWNJdGVtLmxvZ28gPyAnPGltZyBzcmM9JyArIGNsaW5pY0l0ZW0ubG9nbyArICcgYWx0PVwiXCI+JyA6ICc8aW1nIHNyYz1cIi9pbWcvZGVmYXVsdF9sb2dvLnBuZ1wiIGFsdD1cIlwiIGNsYXNzPVwiZGVmYXVsdF9faW1nXCI+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY0h0bWwgPSAnPGRpdiBjbGFzcz1cImNsaW5pY3NfX2NsaW5pY19uYW1lIGNvdW5ydHlfX2NsaW5pY19uYW1lXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvdW5ydHlfX2NsaW5pY19sZWZ0XCI+JyArIGNsaW5pY0xvZ28gKyAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvdW5ydHlfX2NsaW5pY19yaWdodFwiPjxzcGFuPicgKyBjbGluaWNJdGVtLm5hbWUgKyAnPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxlbT4nICsgY2xpbmljSXRlbS5hYm91dCArICc8L2VtPjwvZGl2PjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1JZCA9PSAnZmlsdGVyUHJpY2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpbmljQ2xhc3MgPSAncHJpY2UnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0FyciA9IGVsLmNsaW5pY3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGluaWNBcnIubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGluaWNBcnJbaV0uZG9jdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3RvclByaWNlRGVmYXVsdCA9ICc8ZGl2IGNsYXNzPVwicHJpY2VfX2RlY3JpcHRpb25fdGV4dFwiPirQodGC0L7QuNC80L7RgdGC0Ywg0LrQvtC90YHRg9C70YzRgtCw0YbQuNC4INGDINC/0LXRgNC10YfQuNGB0LvQtdC90L3Ri9GFINC90LjQttC1INC00L7QutGC0L7RgNC+0LIg0LzQvtC20LXRgjxici8+0L7RgtC70LjRh9Cw0YLRjNGB0Y8g0L7RgiDRgdGC0L7QuNC80L7RgdGC0Lgg0LrQvtC90YHRg9C70YzRgtCw0YbQuNC4INC60LvQuNC90LjQutC4PC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb2N0b3JQcmljZUluZm8gPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNsaW5pY0FycltpXS5kb2N0b3JzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3Rvckl0ZW0gPSBjbGluaWNBcnJbaV0uZG9jdG9yc1trXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdG9yUHJpY2VJbmZvICs9ICc8ZGl2IGNsYXNzPVwicHJpY2VfX2l0ZW1cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicHJpY2VfX3Byb3AganNfZG9jdG9yLWluZm9cIj4nICsgZG9jdG9ySXRlbS5uYW1lICsgJzwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcmljZV9fZG90c1wiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJwcmljZV9fdmFsdWVcIj4nICsgZG9jdG9ySXRlbS5jb3N0ICsgJzwvc3Bhbj48L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jdG9yc0xpc3QgPSAnPGRpdiBjbGFzcz1cInByaWNlX19saXN0IHByaWNlX19saXN0X2RvY3RvcnNcIiBkYXRhLWlkPVwiJyArIGRvY3Rvckl0ZW0uaWQgKyAnXCI+JyArIGRvY3RvclByaWNlSW5mbyArICc8L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlSHRtbCArPSAnPGRpdiBjbGFzcz1cInByaWNlX19pdGVtXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJwcmljZV9fcHJvcFwiPtCh0YLQvtC40LzQvtGB0YLRjCDQutC+0L3RgdGD0LvRjNGC0LDRhtC40Lg8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInByaWNlX19kb3RzXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJwcmljZV9fdmFsdWVcIj4nICsgY2xpbmljQXJyW2ldLmNvc3QgKyAnICcgKyBlbC5jdXJyZW5jeSArICc8L3NwYW4+ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUNvbnRhaW5lckh0bWwgPSAnPGRpdiBjbGFzcz1cInByaWNlX19saXN0XCI+ICcgKyBwcmljZUh0bWwgKyAnPC9kaXY+JyArICgoY2xpbmljQXJyW2ldLmRvY3RvcnMpID8gZG9jdG9yUHJpY2VEZWZhdWx0ICsgZG9jdG9yc0xpc3QgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGluaWNBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpbmljSXRlbSA9IGNsaW5pY0FycltpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaW5pY0NsYXNzID09ICdkb2N0b3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaW5pY0l0ZW0gPSBjbGluaWNBcnJbaV0uY2xpbmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaW5pY0xvZ28gPSBjbGluaWNJdGVtLmxvZ28gPyAnPGltZyBzcmM9JyArIGNsaW5pY0l0ZW0ubG9nbyArICcgYWx0PVwiXCI+JyA6ICc8aW1nIHNyYz1cIi9pbWcvZGVmYXVsdF9sb2dvLnBuZ1wiIGFsdD1cIlwiIGNsYXNzPVwiZGVmYXVsdF9faW1nXCI+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpbmljc0h0bWwgPSAnPGRpdiBjbGFzcz1cIicgKyBjbGluaWNDbGFzcyArICdfX2NsaW5pYyBjb3VucnR5X19jbGluaWNcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCInICsgY2xpbmljQ2xhc3MgKyAnX19jbGluaWNfbmFtZSBjb3VucnR5X19jbGluaWNfbmFtZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4+JyArIGNsaW5pY0l0ZW0ubmFtZSArICc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZW0+JyArIGNsaW5pY0l0ZW0uYWJvdXQgKyAnPC9lbT4nICsgY2xpbmljTG9nbyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICsgKHByaWNlQ29udGFpbmVySHRtbCA/IHByaWNlQ29udGFpbmVySHRtbCA6ICcnKSArICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGluaWNDbGFzcyA9PSAnY2xpbmljcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5V3JhcC5hcHBlbmQoJzxkaXYgY2xhc3M9XCInICsgY2xpbmljQ2xhc3MgKyAnX19jb3VudHJ5IGNvdW5ydHlfX2NsaW5pY1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGgzPicgKyBlbC5jb3VudHJ5ICsgJzwvaDM+JyArIGNsaW5pY0h0bWwgKyAnJyArIChkb2N0b3JzSHRtbCA/IGRvY3RvcnNIdG1sIDogJycpICsgJzwvZGl2PidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5V3JhcC5hcHBlbmQoJzxkaXYgY2xhc3M9XCInICsgY2xpbmljQ2xhc3MgKyAnX19jb3VudHJ5IGNvdW5ydHlcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMz4nICsgZWwuY291bnRyeSArICc8L2gzPicgKyBjbGluaWNzSHRtbCArICcnICsgKGRvY3RvcnNIdG1sID8gZG9jdG9yc0h0bWwgOiAnJykgKyAnPC9kaXY+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanMtc2hvdy1hdHRlbnRpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IGF0dGVudGlvbkJsb2NrID0gJCgnLmNvbnRhY3RzX19jb25uZWN0aW9uJyk7XHJcbiAgICAgICAgYXR0ZW50aW9uQmxvY2sudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBsZXQgZG9jdG9ySW5mb1BvcHVwID0gbmV3IFBvcHVwKHtcclxuICAgICAgICBiYWNrU2VsZWN0b3I6ICcucG9wdXBfX2JhY2snLFxyXG4gICAgICAgIHBvcHVwc1NlbGVjdG9yOiAnLnBvcHVwJyxcclxuICAgICAgICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX2RvY3Rvci1pbmZvJyxcclxuICAgICAgICBwb3B1cEFjdGl2ZUNsYXNzOiAnc2hvdycsXHJcbiAgICAgICAgYmFja0FjdGl2ZUNsYXNzOiAnc2hvdycsXHJcbiAgICAgICAgY2xvc2VCdXR0b25zU2VsZWN0b3I6ICcucG9wdXBfX2Nsb3NlLWJ1dHRvbiwgLmpzLWJhZC1hbnN3ZXItY2xvc2UnLFxyXG4gICAgICAgIGN1c3RvbU9wZW46IGZ1bmN0aW9uICgkZWxlbSkge1xyXG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy4kcG9wdXAuZmluZCgnLmRvY3Rvci1pbmZvJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5odG1sKCcnKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZCgkZWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlblBvcHVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBwb3B1cHMuZG9jdG9ySW5mb1BvcHVwID0gZG9jdG9ySW5mb1BvcHVwO1xyXG5cclxuXHJcbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qc19kb2N0b3ItaW5mbycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGlkRG9jdG9yID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xyXG4gICAgICAgIGxldCBkb2N0b3JJbmZvID0gJyc7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2FzZGFzZCcpO1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICdkb2N0b3ItaW5mby5qc29uJyxcclxuICAgICAgICAgICAgLy8gdXJsOiAnY29udGFjdHMuanNvbicsXHJcbiAgICAgICAgICAgIC8vIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgLy8gdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICAvLyBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAvLyBkYXRhOiAnZG9jdG9ySUQnOiBpZERvY3RvcixcclxuXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwYXJzZUFycihhcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BlY1RyID0gKHNwZWNUciA/IHNwZWNUciA6ICcnKSArICcnICsgYXJyW2ldICsgJzxici8+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BlY1RyO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjZXJ0aWYgPSBkYXRhLmNlcnRpZmljYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBjb250YWluZXJEb2N0b3JJbmZvID0gJCgnLmRvY3Rvcl9fY29udGVudCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckRvY3RvckluZm8uaHRtbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZXJ0aWYubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjZXJ0aWZbaV0udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlcnRpZkh0bWwgPSAoY2VydGlmSHRtbCA/IGNlcnRpZkh0bWwgOiAnJykgKyAnPHRyPjx0aD4nICsgKGNlcnRpZltpXS5pY29uID8gJzxkaXYgY2xhc3M9XCJkb2N0b3JfX3NlcnRpZmljYXQgZG9jdG9yX19zZXJ0aWZpY2F0X2ljb24ganNfcG9wdXBfc2VydFwiPjxpbWcgc3JjPVwiJyArIGNlcnRpZltpXS5pY29uICsgJ1wiIGFsdD1cIlwiPjwvZGl2PicgOiAnJykgKyAoY2VydGlmW2ldLmltYWdlID8gJzxkaXYgY2xhc3M9XCJkb2N0b3JfX3NlcnRpZmljYXRfaW1nXCI+PGltZyBjbGFzcz1cImltZ19iaWdcIiBzcmM9XCInICsgY2VydGlmW2ldLmltYWdlICsgJ1wiIGFsdD1cIlwiPjwvZGl2PicgOiAnJykgKyAnPC90aD48dGQ+JyArIChjZXJ0aWZbaV0udGV4dCA/ICc8ZGl2IGNsYXNzPVwiZG9jdG9yX19zZXJ0aWZpY2F0IGRvY3Rvcl9fc2VydGlmaWNhdF90ZXh0XCI+JyArIGNlcnRpZltpXS50ZXh0ICsgJzwvZGl2PicgOiAnJykgKyAnPC90ZD48L3RyPic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGRvY3RvckluZm8gPSAnPGRpdiBjbGFzcz1cImRvY3Rvci1pbmZvX19uYW1lXCI+JyArIGRhdGEubmFtZSArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZG9jdG9yLWluZm9fX2xlZnRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvci1pbmZvX19mb3RvXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPScgKyBkYXRhLnBob3RvICsgJyBhbHQ9XCJcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cIlwiIGNsYXNzPVwiZG9jdG9yLWluZm9fX2J0biBidG5cIj7QntGB0YLQsNCy0LjRgtGMINC30LDRj9Cy0LrRgyA8YnIvPiDQvdCwINC60L7QvdGB0YPQu9GM0YLQsNGG0LjRjjwvYT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkb2N0b3ItaW5mb19fcmlnaHRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRvY3Rvci1pbmZvX19jb250ZW50XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0YWJsZT48dGJvZHk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0JrQu9C40L3QuNC60LA6PC90aD48dGQ+JyArIGRhdGEuZGVwYXJ0bWVudCArICc8L3RkPjwvdHI+JyArXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCe0YLQtNC10LvQtdC90LjQtTo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5wb3NpdGlvbikgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCh0L/QtdGG0LjQsNC70LjQt9Cw0YbQuNGPOjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLnNwZWNpYWxpemF0aW9uKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0KPRh9GR0L3QsNGPINGB0YLQtdC/0LXQvdGMOjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLmRlcGFydG1lbnQpICsgJzwvdGQ+PC90cj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHRyPjx0aD7QntCx0YDQsNC30L7QstCw0L3QuNC1OjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLmVkdWNhdGlvbikgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCS0YDQsNGH0LXQsdC90YvQuSDRgdGC0LDQtjo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS53b3JrdGltZSkgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCv0LfRi9C60Lgg0LrQvtC90YHRg9C70YzRgtCw0YbQuNC5OjwvdGg+PHRkPicgKyBwYXJzZUFycihkYXRhLmxhbmd1YWdlcykgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dHI+PHRoPtCh0LXRgNGC0LjRhNC40LrQsNGC0Ys6PC90aD48L3RoPjx0cj4nICsgY2VydGlmSHRtbCArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0J/Rg9Cx0LvQuNC60LDRhtC40Lg6PC90aD48dGQ+JyArIHBhcnNlQXJyKGRhdGEucHVibGljYXRpb25zKSArICc8L3RkPjwvdHI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cj48dGg+0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtTxici8+0YHQstC10LTQtdC90LjRjzo8L3RoPjx0ZD4nICsgcGFyc2VBcnIoZGF0YS5vdGhlcikgKyAnPC90ZD48L3RyPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L3Rib2R5PjwvdGFibGU+PC9kaXY+PC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N0b3JJbmZvUG9wdXAuY3VzdG9tT3Blbihkb2N0b3JJbmZvKTtcclxuICAgICAgICAgICAgICAgIGRvY3RvckluZm8gPSAnJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn0pOyIsImNsYXNzIFBvcHVwIHtcclxuXHJcblx0Y29uc3RydWN0b3IoZGF0YSkge1xyXG5cdFx0dGhpcy4kYm9keSA9ICQoJ2JvZHknKTtcclxuXHRcdHRoaXMuJGJhY2sgPSAkKGRhdGEuYmFja1NlbGVjdG9yKTtcclxuXHRcdHRoaXMuJHBvcHVwcyA9ICQoZGF0YS5wb3B1cHNTZWxlY3Rvcik7XHJcblx0XHR0aGlzLnBvcHVwU2VsZWN0b3IgPSBkYXRhLnBvcHVwU2VsZWN0b3I7XHJcblx0XHR0aGlzLiRwb3B1cCA9IHRoaXMuJHBvcHVwcy5maWx0ZXIoZGF0YS5wb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMucG9wdXBBY3RpdmVDbGFzcyA9IGRhdGEucG9wdXBBY3RpdmVDbGFzcztcclxuXHRcdHRoaXMuYmFja0FjdGl2ZUNsYXNzID0gZGF0YS5iYWNrQWN0aXZlQ2xhc3M7XHJcblx0XHR0aGlzLmNsb3NlQnV0dG9uc1NlbGVjdG9yID0gZGF0YS5jbG9zZUJ1dHRvbnNTZWxlY3RvcjtcclxuXHRcdHRoaXMub3BlbkJ1dHRvbnNTZWxlY3RvciA9IGRhdGEub3BlbkJ1dHRvbnNTZWxlY3RvcjtcclxuXHRcdHRoaXMuaXNDbG9zZUFsbFdoZW5PcGVuID0gZGF0YS5pc0Nsb3NlQWxsV2hlbk9wZW4gfHwgdHJ1ZTtcclxuXHRcdHRoaXMub25SZXNpemVDYWxsYmFjayA9ICh0eXBlb2YgZGF0YS5vblJlc2l6ZUNhbGxiYWNrID09IFwiZnVuY3Rpb25cIikgPyBkYXRhLm9uUmVzaXplQ2FsbGJhY2sgOiAnJyA7XHJcblx0XHR0aGlzLm9uQ2xvc2VDYWxsYmFjayA9ICh0eXBlb2YgZGF0YS5vbkNsb3NlQ2FsbGJhY2sgPT0gXCJmdW5jdGlvblwiKSA/IGRhdGEub25DbG9zZUNhbGxiYWNrIDogJycgO1xyXG5cdFx0dGhpcy5jdXN0b21PcGVuID0gKHR5cGVvZiBkYXRhLmN1c3RvbU9wZW4gPT0gXCJmdW5jdGlvblwiKSA/IGRhdGEuY3VzdG9tT3BlbiA6ICcnIDtcclxuXHJcblx0XHR0aGlzLmFkZEV2ZW50TGlzdG5lcnMoKTtcclxuXHR9XHJcblxyXG5cdGFkZEV2ZW50TGlzdG5lcnMgKCkgIHtcclxuXHRcdCQodGhpcy5vcGVuQnV0dG9uc1NlbGVjdG9yKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMub3BlblBvcHVwKCk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuJHBvcHVwLm9uKCdjbGljaycsIHRoaXMuY2xvc2VCdXR0b25zU2VsZWN0b3IsICgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZVBvcHVwKCk7XHJcblx0XHR9KTtcclxuXHRcdCQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLiRwb3B1cC5jc3MoJ2xlZnQnLCAnMCcpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuJHBvcHVwLmhhc0NsYXNzKHRoaXMucG9wdXBBY3RpdmVDbGFzcykpIHtcclxuXHJcblx0XHRcdFx0dGhpcy5nZXRMZWZ0KCk7XHJcblx0XHRcdFx0dGhpcy5nZXRUb3AgKCk7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLm9uUmVzaXplQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdHRoaXMub25SZXNpemVDYWxsYmFjaygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvcGVuUG9wdXAgKCkge1xyXG5cdFx0dGhpcy4kcG9wdXAuY3NzKCd0b3AnLCAnLTIwcHgnKTtcclxuXHRcdHRoaXMuc2hvd0JhY2soKTtcclxuXHRcdHRoaXMuZ2V0TGVmdCgpO1xyXG5cdFx0dGhpcy5nZXRUb3AgKCk7XHJcblx0XHR0aGlzLiRwb3B1cC5hZGRDbGFzcyh0aGlzLnBvcHVwQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuJGJvZHkuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcclxuXHR9XHJcblxyXG5cclxuXHRjbG9zZVBvcHVwKCkge1xyXG5cclxuXHRcdC8vIHRoaXMuY2xvc2VBbGwoKTtcclxuICAgICAgICB0aGlzLiRib2R5LmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xyXG5cclxuXHRcdHRoaXMuJHBvcHVwLnJlbW92ZUNsYXNzKHRoaXMucG9wdXBBY3RpdmVDbGFzcyk7XHJcblx0XHRpZiAoIXRoaXMuJHBvcHVwcy5maWx0ZXIoJy5zaG93JykubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuaGlkZUJhY2soKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vbkNsb3NlQ2FsbGJhY2spIHtcclxuXHRcdFx0dGhpcy5vbkNsb3NlQ2FsbGJhY2soKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRjbG9zZUFsbCgpIHtcclxuICAgICAgICB0aGlzLiRib2R5LmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xyXG4gICAgICAgIHRoaXMuJHBvcHVwcy5yZW1vdmVDbGFzcyh0aGlzLnBvcHVwQWN0aXZlQ2xhc3MpO1xyXG5cdH1cclxuXHJcblx0c2hvd0JhY2sgKCkge1xyXG5cdFx0dGhpcy4kYmFjay5hZGRDbGFzcyh0aGlzLmJhY2tBY3RpdmVDbGFzcyk7XHJcblx0fVxyXG5cclxuXHRoaWRlQmFjayAoKSB7XHJcbiAgICAgICAgdGhpcy4kYm9keS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy4kYmFjay5yZW1vdmVDbGFzcyh0aGlzLmJhY2tBY3RpdmVDbGFzcyk7XHJcblx0fVxyXG5cclxuXHRnZXRMZWZ0ICgpIHtcclxuXHRcdGxldCBsZWZ0ID0gcGFyc2VJbnQodGhpcy4kYm9keS5vdXRlcldpZHRoKCkpIC8gMiAtIHRoaXMuJHBvcHVwLm91dGVyV2lkdGgoKSAvIDI7XHJcblx0XHR0aGlzLiRwb3B1cC5jc3MoJ2xlZnQnLCBgJHtsZWZ0fXB4YCk7XHJcblx0fVxyXG5cdGdldFRvcCAoKSB7XHJcblx0XHRsZXQgdG9wID0gJCgnaHRtbCxib2R5Jykuc2Nyb2xsVG9wKCkgKyAyMDtcclxuXHRcdC8vIGxldCB0b3AgPSBwYXJzZUludCh0aGlzLiRib2R5Lm91dGVySGVpZ2h0KCkpIC8gMiAtIHRoaXMuJHBvcHVwLm91dGVySGVpZ2h0KCkgLyAyO1xyXG5cdFx0dGhpcy4kcG9wdXAuY3NzKCd0b3AnLCBgJHt0b3B9cHhgKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG5cclxuXHJcbiJdfQ=="}